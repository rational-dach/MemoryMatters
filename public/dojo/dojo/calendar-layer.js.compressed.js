//>>built
require({cache:{"url:dojox/calendar/templates/MatrixView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t<div  class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t<table><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t</div>\t\n\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\t\n\t<div dojoAttachPoint="rowHeader" class="dojoxCalendarRowHeader">\n\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div dojoAttachPoint="grid" class="dojoxCalendarGrid">\n\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t</div>\t\n</div>\n',
"dojox/widget/_Invalidating":function(){define("dojox/widget/_Invalidating",["dojo/_base/declare","dojo/_base/lang","dojo/Stateful"],function(r,n,s){return r("dojox.widget._Invalidating",s,{invalidatingProperties:null,invalidRendering:!1,postscript:function(o){this.inherited(arguments);if(this.invalidatingProperties)for(var k=this.invalidatingProperties,g=0;g<k.length;g++)this.watch(k[g],n.hitch(this,this.invalidateRendering)),o&&k[g]in o&&this.invalidateRendering()},addInvalidatingProperties:function(n){this.invalidatingProperties=
this.invalidatingProperties?this.invalidatingProperties.concat(n):n},invalidateRendering:function(){this.invalidRendering||(this.invalidRendering=!0,setTimeout(n.hitch(this,this.validateRendering),0))},validateRendering:function(){this.invalidRendering&&(this.refreshRendering(),this.invalidRendering=!1)},refreshRendering:function(){}})})},"dojox/calendar/_VerticalScrollBarBase":function(){define("dojox/calendar/_VerticalScrollBarBase","dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/on dojo/dom-style dijit/_WidgetBase".split(" "),
function(r,n,s,o,k,g){return r("dojox.calendar._VerticalScrollBarBase",g,{value:0,minimum:0,maximum:100,_scrollHandle:null,buildRendering:function(){this.inherited(arguments);this._scrollHandle=o(this.domNode,"scroll",s.hitch(this,function(){this.value=this._getDomScrollerValue();this.onChange(this.value);this.onScroll(this.value)}))},destroy:function(f){this._scrollHandle.remove();this.inherited(arguments)},_getDomScrollerValue:function(){return this.domNode.scrollTop},_setDomScrollerValue:function(f){this.domNode.scrollTop=
f},_setValueAttr:function(f){f=Math.min(this.maximum,f);f=Math.max(this.minimum,f);if(this.value!=f){this.value=f;this.onChange(f);this._setDomScrollerValue(f)}},onChange:function(){},onScroll:function(){},_setMinimumAttr:function(f){this.minimum=f=Math.min(f,this.maximum)},_setMaximumAttr:function(f){this.maximum=f=Math.max(f,this.minimum);k.set(this.content,"height",f+"px")}})})},"dojox/calendar/Keyboard":function(){define("dojox/calendar/Keyboard","dojo/_base/array dojo/_base/lang dojo/_base/declare dojo/on dojo/_base/event dojo/keys".split(" "),
function(r,n,s,o,k,g){return s("dojox.calendar.Keyboard",null,{keyboardUpDownUnit:"minute",keyboardUpDownSteps:15,keyboardLeftRightUnit:"day",keyboardLeftRightSteps:1,allDayKeyboardUpDownUnit:"day",allDayKeyboardUpDownSteps:7,allDayKeyboardLeftRightUnit:"day",allDayKeyboardLeftRightSteps:1,postCreate:function(){this.inherited(arguments);this._viewHandles.push(o(this.domNode,"keydown",n.hitch(this,this._onKeyDown)))},resizeModifier:"ctrl",maxScrollAnimationDuration:1E3,tabIndex:"0",focusedItem:null,
_isItemFocused:function(f){return this.focusedItem!=null&&this.focusedItem.id==f.id},_setFocusedItemAttr:function(f){if(f!=this.focusedItem){var c=this.focusedItem;this._set("focusedItem",f);this.updateRenderers([c,this.focusedItem],true);this.onFocusChange({oldValue:c,newValue:f})}if(f!=null){this.owner!=null&&this.owner.get("focusedItem")!=null&&this.owner.set("focusedItem",null);this._secondarySheet!=null&&this._secondarySheet.set("focusedItem")!=null&&this._secondarySheet.set("focusedItem",null)}},
onFocusChange:function(){},showFocus:false,_focusNextItem:function(f){if(!this.renderData||!this.renderData.items||this.renderData.items.length==0)return null;var c=-1,d=this.renderData.items,j=d.length-1,h=this.get("focusedItem");if(h==null)c=f>0?0:j;else{r.some(d,n.hitch(this,function(d,j){var f=d.id==h.id;f&&(c=j);return f}));c=this._focusNextItemImpl(f,c,j)}for(var g=false,k=-1;k!=c&&(!g||c!=0);){!g&&c==0&&(g=true);k=d[c];if(this.itemToRenderer[k.id]!=null){this.set("focusedItem",k);break}k=c;
c=this._focusNextItemImpl(f,c,j)}},_focusNextItemImpl:function(f,c,d){if(c==-1)c=f>0?0:d;else{if(c==0&&f==-1||c==d&&f==1)return c;c=f>0?++c:--c}return c},_handlePrevNextKeyCode:function(f,c){this.isLeftToRight()||(c=c==1?-1:1);this.showFocus=true;this._focusNextItem(c);var d=this.get("focusedItem");!f.ctrlKey&&d&&this.set("selectedItem",d);d&&this.ensureVisibility(d.startTime,d.endTime,"both",void 0,this.maxScrollAnimationDuration)},_keyboardItemEditing:function(f,c){k.stop(f);var d=this._edProps,
j,h;if(d.editedItem.allDay||this.roundToDay||d.rendererKind=="label"){j=c=="up"||c=="down"?this.allDayKeyboardUpDownUnit:this.allDayKeyboardLeftRightUnit;h=c=="up"||c=="down"?this.allDayKeyboardUpDownSteps:this.allDayKeyboardLeftRightSteps}else{j=c=="up"||c=="down"?this.keyboardUpDownUnit:this.keyboardLeftRightUnit;h=c=="up"||c=="down"?this.keyboardUpDownSteps:this.keyboardLeftRightSteps}if(c=="up"||!this.isLeftToRight()&&c=="right"||this.isLeftToRight()&&c=="left")h=-h;var g=f[this.resizeModifier+
"Key"]?"resizeEnd":"move",n=g=="resizeEnd"?d.editedItem.endTime:d.editedItem.startTime;j=this.renderData.dateFuncObj.add(n,j,h);this._startItemEditingGesture([n],g,"keyboard",f);this._moveOrResizeItemGesture([j],"keyboard",f);this._endItemEditingGesture(g,"keyboard",f,false);g=="move"?this.renderData.dateFuncObj.compare(j,n)==-1?this.ensureVisibility(d.editedItem.startTime,d.editedItem.endTime,"start"):this.ensureVisibility(d.editedItem.startTime,d.editedItem.endTime,"end"):this.ensureVisibility(d.editedItem.startTime,
d.editedItem.endTime,"end")},_onKeyDown:function(f){var c=this.get("focusedItem");switch(f.keyCode){case g.ESCAPE:if(this._isEditing){this._editingGesture&&this._endItemEditingGesture("keyboard",f,true);this._endItemEditing("keyboard",true);this._edProps=null}break;case g.SPACE:k.stop(f);c!=null&&this.setItemSelected(c,f.ctrlKey?!this.isItemSelected(c):true);break;case g.ENTER:k.stop(f);if(c!=null)if(this._isEditing)this._endItemEditing("keyboard",false);else if((f=this.itemToRenderer[c.id])&&f.length>
0&&this.isItemEditable(c,f[0].kind)){this._edProps={renderer:f[0],rendererKind:f[0].kind,tempEditedItem:c,liveLayout:this.liveLayout};this.set("selectedItem",c);this._startItemEditing(c,"keyboard")}break;case g.LEFT_ARROW:k.stop(f);this._isEditing?this._keyboardItemEditing(f,"left"):this._handlePrevNextKeyCode(f,-1);break;case g.RIGHT_ARROW:k.stop(f);this._isEditing?this._keyboardItemEditing(f,"right"):this._handlePrevNextKeyCode(f,1);break;case g.UP_ARROW:this._isEditing?this._keyboardItemEditing(f,
"up"):this.scrollable&&this.scrollView(-1);break;case g.DOWN_ARROW:this._isEditing?this._keyboardItemEditing(f,"down"):this.scrollable&&this.scrollView(1)}}})})},"dojox/calendar/LabelRenderer":function(){require({cache:{"url:dojox/calendar/templates/LabelRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarLabel" onselectstart="return false;">\t\n\t<div class="labels">\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\t\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n</div>'}});
define("dojox/calendar/LabelRenderer",["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojox/calendar/_RendererMixin","dojo/text!./templates/LabelRenderer.html"],function(r,n,s,o,k){return r("dojox.calendar.LabelRenderer",[n,s,o],{templateString:k,_orientation:"horizontal",resizeEnabled:!1,visibilityLimits:{resizeStartHandle:50,resizeEndHandle:-1,summaryLabel:15,startTimeLabel:45,endTimeLabel:30},_isElementVisible:function(g,f,c,d){switch(g){case "startTimeLabel":var j=this.item.startTime;
if(this.item.isAllDay||0==j.getHours()&&0==j.getMinutes()&&0==j.getSeconds()&&0==j.getMilliseconds())return!1}return this.inherited(arguments)},_displayValue:"inline",postCreate:function(){this.inherited(arguments);this._applyAttributes()}})})},"url:dojox/calendar/templates/VerticalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarVertical" onselectstart="return false;">\n\t<div class="bg"></div>\n\t<dl style="width:100%;">\n\t\t<dd data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25b2</dd>\n\t\t<dd data-dojo-attach-point="startTimeLabel" class="startTime"></dd>\n\t\t<dd data-dojo-attach-point="summaryLabel" class="summary"></dd>\n\t</dl>\t\n\t<span data-dojo-attach-point="afterIcon" class="afterIcon">\u25bc</span>\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n\t<div data-dojo-attach-point="resizeStartHandle" class="handle resizeStartHandle"></div>\n\t<div data-dojo-attach-point="resizeEndHandle" class="handle resizeEndHandle" ></div>\n\t<div data-dojo-attach-point="endTimeLabel" class="endTime"></div>\n</div>',
"dojox/calendar/ColumnViewSecondarySheet":function(){require({cache:{"url:dojox/calendar/templates/ColumnViewSecondarySheet.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t<div  data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\n\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t</div>\n</div>'}});
define("dojox/calendar/ColumnViewSecondarySheet","./MatrixView dojo/text!./templates/ColumnViewSecondarySheet.html dojo/_base/html dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/sniff dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/date dojo/date/locale dojo/query dojox/html/metrics dojo/_base/fx dojo/on dojo/i18n dojo/window".split(" "),function(r,n,s,o,k,g,f,c,d,j){return o("dojox.calendar.ColumnViewSecondarySheet",r,{templateString:n,rowCount:1,cellPaddingTop:4,
roundToDay:false,_defaultHeight:-1,layoutDuringResize:true,_defaultItemToRendererKindFunc:function(d){return d.allDay?"horizontal":null},_formatGridCellLabel:function(){return null},_formatRowHeaderLabel:function(){return null},__fixEvt:function(d){d.sheet="secondary";d.source=this;return d},_dispatchCalendarEvt:function(d,c){d=this.inherited(arguments);if(this.owner.owner)this.owner.owner[c](d)},_layoutExpandRenderers:function(d,c,f){if(this.expandRenderer){var g=j.getMarginBox(this.domNode).h;if(this._defaultHeight==
-1)this._defaultHeight=g;this._defaultHeight!=-1&&this._defaultHeight!=g&&g>=this._getExpandedHeight()?this._layoutExpandRendererImpl(0,this._expandedRowCol,null,true):this.inherited(arguments)}},expandRendererClickHandler:function(d,c){k.stop(d);var f=j.getMarginBox(this.domNode).h;if(this._defaultHeight==f||f<this._getExpandedHeight()){this._expandedRowCol=c.columnIndex;this.owner.resizeSecondarySheet(this._getExpandedHeight())}else this.owner.resizeSecondarySheet(this._defaultHeight)},_getExpandedHeight:function(){return this.naturalRowsHeight[0]+
this.expandRendererHeight+this.verticalGap+this.verticalGap},_layoutRenderers:function(d){this._domReady&&this.inherited(arguments)}})})},"url:dojox/calendar/templates/ExpandRenderer.html":'<div class="dojoxCalendarExpand" onselectstart="return false;" data-dojo-attach-event="click:_onClick,touchstart:_onMouseDown,touchend:_onClick,mousedown:_onMouseDown,mouseup:_onMouseUp,mouseover:_onMouseOver,mouseout:_onMouseOut">\n\t<div class="bg"><span data-dojo-attach-point="expand">\u25bc</span><span style="display:none" data-dojo-attach-point="collapse">\u25b2</span></div>\t\n</div>',
"dojox/calendar/Calendar":function(){require({cache:{"url:dojox/calendar/templates/Calendar.html":'<div>\n\t<div data-dojo-attach-point="buttonContainer" class="buttonContainer">\n\t\t<div data-dojo-attach-point="toolbar" data-dojo-type="dijit.Toolbar" >\n\t\t\t<button data-dojo-attach-point="previousButton" data-dojo-type="dijit.form.Button" >\u25c4</button>\n\t\t\t<button data-dojo-attach-point="nextButton" data-dojo-type="dijit.form.Button" >\u25ba</button>\n\t\t\t<span data-dojo-type="dijit.ToolbarSeparator"></span>\n\t\t\t<button data-dojo-attach-point="todayButton" data-dojo-type="dijit.form.Button" />Today</button>\n\t\t\t<span data-dojo-type="dijit.ToolbarSeparator"></span>\n\t\t\t<button data-dojo-attach-point="dayButton" data-dojo-type="dijit.form.Button" >Day</button>\n\t\t\t<button data-dojo-attach-point="fourDaysButton" data-dojo-type="dijit.form.Button" >4 Days</button>\n\t\t\t<button data-dojo-attach-point="weekButton" data-dojo-type="dijit.form.Button" >Week</button>\t\t\t\n\t\t\t<button data-dojo-attach-point="monthButton" data-dojo-type="dijit.form.Button" >Month</button>\n\t\t</div>\n\t</div>\n\t<div data-dojo-attach-point="viewContainer" class="viewContainer"></div>\n</div>'}});
define("dojox/calendar/Calendar","dojo/_base/declare dojo/_base/lang ./CalendarBase ./ColumnView ./ColumnViewSecondarySheet ./VerticalRenderer ./MatrixView ./HorizontalRenderer ./LabelRenderer ./ExpandRenderer ./Keyboard ./Mouse dojo/text!./templates/Calendar.html dijit/form/Button dijit/Toolbar dijit/ToolbarSeparator".split(" "),function(r,n,s,o,k,g,f,c,d,j,h,t,y){return r("dojox.calendar.Calendar",s,{templateString:y,_createDefaultViews:function(){var q=r([k,h,t]),q=r([o,h,t])(n.mixin({secondarySheetClass:q,
verticalRenderer:g,horizontalRenderer:c,expandRenderer:j},this.columnViewProps)),w=r([f,h,t])(n.mixin({horizontalRenderer:c,labelRenderer:d,expandRenderer:j},this.matrixViewProps));this.columnView=q;this.matrixView=w;q=[q,w];this.installDefaultViewsActions(q);return q},installDefaultViewsActions:function(){this.matrixView.on("rowHeaderClick",n.hitch(this,this.matrixViewRowHeaderClick));this.columnView.on("columnHeaderClick",n.hitch(this,this.columnViewColumnHeaderClick))}})})},"url:dojox/calendar/templates/MobileVerticalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarVertical">\n\t<div class="bg"></div>\t\n\t<div data-dojo-attach-point="resizeStartHandle" class="resizeStartHandle resizeHandle"><div></div></div>\n\t<dl style="width:100%;">\t\t\t\t\n\t\t<dd data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25b2</dd>\n\t\t<dd data-dojo-attach-point="startTimeLabel" class="startTime"></dd>\n\t\t<dd data-dojo-attach-point="summaryLabel" class="summary"></dd>\n\t</dl>\n\t<span data-dojo-attach-point="afterIcon" class="afterIcon">\u25bc</span>\t\n\t<div data-dojo-attach-point="resizeEndHandle" class="resizeEndHandle resizeHandle"><div></div></div>\n\t<span data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n</div>',
"url:dojox/calendar/templates/ColumnViewSecondarySheet.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t<div  data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\n\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t</div>\n</div>',
"dojox/calendar/HorizontalRenderer":function(){require({cache:{"url:dojox/calendar/templates/HorizontalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarHorizontal" onselectstart="return false;">\n\t<div class="bg" ></div>\n\t<div style="position:absolute;left:2px;bottom:2px" data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25c4</div>\t\n\t<div data-dojo-attach-point="labelContainer" class="labels">\t\t\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span  data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\n\t<div style="position:absolute;right:2px;bottom:2px" data-dojo-attach-point="afterIcon" class="afterIcon">\u25ba</div>\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n\t<div data-dojo-attach-point="resizeStartHandle" class="handle resizeStartHandle"></div>\n\t<div data-dojo-attach-point="resizeEndHandle" class="handle resizeEndHandle" ></div>\t\n</div>'}});
define("dojox/calendar/HorizontalRenderer","dojo/_base/declare dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dojox/calendar/_RendererMixin dojo/text!./templates/HorizontalRenderer.html".split(" "),function(r,n,s,o,k,g){return r("dojox.calendar.HorizontalRenderer",[s,o,k],{templateString:g,_orientation:"horizontal",visibilityLimits:{resizeStartHandle:50,resizeEndHandle:-1,summaryLabel:15,startTimeLabel:32,endTimeLabel:30},_displayValueMap:{beforeIcon:"inline",afterIcon:"inline"},_displayValue:"inline",
arrowPadding:12,_isElementVisible:function(f,c,d,j){var h;h=this.isLeftToRight();if(f=="startTimeLabel"){this.labelContainer&&(h&&d||!h&&c)?n.set(this.labelContainer,"marginRight",this.arrowPadding+"px"):n.set(this.labelContainer,"marginRight",0);this.labelContainer&&(!h&&d||h&&c)?n.set(this.labelContainer,"marginLeft",this.arrowPadding+"px"):n.set(this.labelContainer,"marginLeft",0)}switch(f){case "startTimeLabel":h=this.item.startTime;if(this.item.allDay||this.owner.isStartOfDay(h))return false;
break;case "endTimeLabel":h=this.item.endTime;if(this.item.allDay||this.owner.isStartOfDay(h))return false}return this.inherited(arguments)},getDisplayValue:function(f){return(f=this._displayValueMap[f])?f:this._displayValue},postCreate:function(){this.inherited(arguments);this._applyAttributes()}})})},"url:dojox/calendar/templates/SimpleColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\t\n\t<div data-dojo-attach-point="header" class="dojoxCalendarHeader">\n\t\t<div class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t\t<table><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t\t</div>\n\t\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t</div>\n\t</div>\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative; width:1px; height:1px;" ></div>\n\t</div>\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\n\t\t\t<div data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\n\t\n</div>\n',
"dojox/widget/Selection":function(){define("dojox/widget/Selection",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/Stateful"],function(r,n,s,o){return r("dojox.widget.Selection",o,{constructor:function(){this.selectedItems=[]},selectionMode:"single",_setSelectionModeAttr:function(k){"none"!=k&&("single"!=k&&"multiple"!=k)&&(k="single");k!=this.selectionMode&&(this.selectionMode=k,"none"==k?this.set("selectedItems",null):"single"==k&&this.set("selectedItem",this.selectedItem))},selectedItem:null,
_setSelectedItemAttr:function(k){this.selectedItem!=k&&(this._set("selectedItem",k),this.set("selectedItems",k?[k]:null))},selectedItems:null,_setSelectedItemsAttr:function(k){var g=this.selectedItems;this.selectedItems=k;this.selectedItem=null;null!=g&&0<g.length&&this.updateRenderers(g,!0);this.selectedItems&&0<this.selectedItems.length&&(this.selectedItem=this.selectedItems[0],this.updateRenderers(this.selectedItems,!0))},_getSelectedItemsAttr:function(){return null==this.selectedItems?[]:this.selectedItems.concat()},
isItemSelected:function(k){return null==this.selectedItems||0==this.selectedItems.length?!1:n.some(this.selectedItems,s.hitch(this,function(g){return this.getIdentity(g)==this.getIdentity(k)}))},getIdentity:function(){},setItemSelected:function(k,g){if(!("none"==this.selectionMode||null==k)){var f=this.get("selectedItems");this.get("selectedItems");if("single"==this.selectionMode)g?this.set("selectedItem",k):this.isItemSelected(k)&&this.set("selectedItems",null);else if(g)this.isItemSelected(k)||
(null==f?f=[k]:f.unshift(k),this.set("selectedItems",f));else{var c=n.filter(f,function(d){return d.id!=k.id});null==c||c.length==f.length||this.set("selectedItems",c)}}},selectFromEvent:function(k,g,f,c){if("none"==this.selectionMode)return!1;var d,j=this.get("selectedItem"),h=g?this.isItemSelected(g):!1;null==g?!k.ctrlKey&&null!=this.selectedItem&&(this.set("selectedItem",null),d=!0):"multiple"==this.selectionMode?(k.ctrlKey?this.setItemSelected(g,!h):this.set("selectedItem",g),d=!0):k.ctrlKey?
(this.set("selectedItem",h?null:g),d=!0):h||(this.set("selectedItem",g),d=!0);c&&d&&this.dispatchChange(j,this.get("selectedItem"),f,k);return d},dispatchChange:function(k,g,f,c){this.onChange({oldValue:k,newValue:g,renderer:f,triggerEvent:c})},onChange:function(){}})})},"dojox/calendar/nls/buttons":function(){define("dojox/calendar/nls/buttons",{root:{previousButton:"\u25c4",nextButton:"\u25ba",todayButton:"Today",dayButton:"Day",weekButton:"Week",fourDaysButton:"4 Days",monthButton:"Month"},zh:!0,
"zh-tw":!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,ar:!0})},"dojox/calendar/Touch":function(){define("dojox/calendar/Touch","dojo/_base/array dojo/_base/lang dojo/_base/declare dojo/dom dojo/dom-geometry dojo/_base/window dojo/on dojo/_base/event dojo/keys".split(" "),function(r,n,s,o,k,g,f,c){return s("dojox.calendar.Touch",null,{touchStartEditingTimer:500,touchEndEditingTimer:1E4,postMixInProperties:function(){this.on("rendererCreated",
n.hitch(this,function(d){var c=d.renderer;if(!c.__handles)c.__handles=[];d=f(c.domNode,"touchstart",n.hitch(this,function(d){this._onRendererTouchStart(d,c)}));c.__handles.push(d)}))},_onRendererTouchStart:function(d,j){var h=this._edProps;if(h&&h.endEditingTimer){clearTimeout(h.endEditingTimer);h.endEditingTimer=null}var k=j.item.item;if(h&&h.endEditingTimer){clearTimeout(h.endEditingTimer);h.endEditingTimer=null}if(h!=null&&h.item!=k){h.startEditingTimer&&clearTimeout(h.startEditingTimer);this._endItemEditing("touch",
false);h=null}if(!h){var o=[];o.push(f(g.doc,"touchend",n.hitch(this,this._docEditingTouchEndHandler)));o.push(f(this.itemContainer,"touchmove",n.hitch(this,this._docEditingTouchMoveHandler)));this._setEditingProperties({touchMoved:false,item:k,renderer:j,rendererKind:j.rendererKind,event:d,handles:o,liveLayout:this.liveLayout});h=this._edProps}if(this._isEditing){n.mixin(h,this._getTouchesOnRenderers(d,h.editedItem));this._startTouchItemEditingGesture(d)}else if(d.touches.length>1)c.stop(d);else{this._touchSelectionTimer=
setTimeout(n.hitch(this,function(){this._saveSelectedItems=this.get("selectedItems");this.selectFromEvent(d,this.renderItemToItem(k,this.get("store")),j,false)?this._pendingSelectedItem=k:delete this._saveSelectedItems;this._touchSelectionTimer=null}),200);h.start={x:d.touches[0].screenX,y:d.touches[0].screenY};if(this.isItemEditable(h.item,h.rendererKind))this._edProps.startEditingTimer=setTimeout(n.hitch(this,function(){if(this._touchSelectionTimer){clearTimeout(this._touchSelectionTimer);delete this._touchSelectionTime}if(this._pendingSelectedItem){this.dispatchChange(this._saveSelectedItems==
null?null:this._saveSelectedItems[0],this._pendingSelectedItem,null,d);delete this._saveSelectedItems;delete this._pendingSelectedItem}else this.selectFromEvent(d,this.renderItemToItem(k,this.get("store")),j);this._startItemEditing(h.item,"touch",d);h.moveTouchIndex=0;this._startItemEditingGesture([this.getTime(d)],"move","touch",d)}),this.touchStartEditingTimer)}},_docEditingTouchMoveHandler:function(d){var j=this._edProps,h=d.touches[0].screenX,f=d.touches[0].screenY;if(j.startEditingTimer&&(Math.abs(h-
j.start.x)>25||Math.abs(f-j.start.y)>25)){clearTimeout(j.startEditingTimer);j.startEditingTimer=null;clearTimeout(this._touchSelectionTimer);this._touchSelectionTimer=null;if(this._pendingSelectedItem){delete this._pendingSelectedItem;this.selectFromEvent(d,null,null,false)}}j.touchMoved=true;if(this._editingGesture){c.stop(d);if(j.itemBeginDispatched){h=[];f=j.editKind=="resizeEnd"?j.editedItem.endTime:j.editedItem.startTime;switch(j.editKind){case "move":h[0]=this.getTime(d,-1,-1,j.moveTouchIndex==
null||j.moveTouchIndex<0?0:j.moveTouchIndex);break;case "resizeStart":h[0]=this.getTime(d,-1,-1,j.resizeStartTouchIndex);break;case "resizeEnd":h[0]=this.getTime(d,-1,-1,j.resizeEndTouchIndex);break;case "resizeBoth":h[0]=this.getTime(d,-1,-1,j.resizeStartTouchIndex);h[1]=this.getTime(d,-1,-1,j.resizeEndTouchIndex)}this._moveOrResizeItemGesture(h,"touch",d);j.editKind=="move"?this.renderData.dateFuncObj.compare(j.editedItem.startTime,f)==-1?this.ensureVisibility(j.editedItem.startTime,j.editedItem.endTime,
"start",this.autoScrollTouchMargin):this.ensureVisibility(j.editedItem.startTime,j.editedItem.endTime,"end",this.autoScrollTouchMargin):d.editKind=="resizeStart"||d.editKind=="resizeBoth"?this.ensureVisibility(j.editedItem.startTime,j.editedItem.endTime,"start",this.autoScrollTouchMargin):this.ensureVisibility(j.editedItem.startTime,j.editedItem.endTime,"end",this.autoScrollTouchMargin)}}},autoScrollTouchMargin:10,_docEditingTouchEndHandler:function(d){c.stop(d);var j=this._edProps;if(j.startEditingTimer){clearTimeout(j.startEditingTimer);
j.startEditingTimer=null}if(this._isEditing){n.mixin(j,this._getTouchesOnRenderers(d,j.editedItem));if(this._editingGesture)if(j.touchesLen==0){this._endItemEditingGesture("touch",d);if(this.touchEndEditingTimer>0)j.endEditingTimer=setTimeout(n.hitch(this,function(){this._endItemEditing("touch",false)}),this.touchEndEditingTimer)}else{this._editingGesture&&this._endItemEditingGesture("touch",d);this._startTouchItemEditingGesture(d)}}else{if(j.touchMoved){if(this._saveSelectedItems){this.set("selectedItems",
this._saveSelectedItems);delete this._saveSelectedItems;delete this._pendingSelectedItem}r.forEach(j.handles,function(d){d.remove()})}else{c.stop(d);r.forEach(j.handles,function(d){d.remove()});if(this._touchSelectionTimer){clearTimeout(this._touchSelectionTimer);this.selectFromEvent(d,this.renderItemToItem(j.item,this.get("store")),j.renderer,true)}else if(this._pendingSelectedItem){this.dispatchChange(this._saveSelectedItems.length==0?null:this._saveSelectedItems[0],this._pendingSelectedItem,null,
d);delete this._saveSelectedItems;delete this._pendingSelectedItem}if(this._pendingDoubleTap&&this._pendingDoubleTap.item==j.item){this._onItemDoubleClick({triggerEvent:d,renderer:j.renderer,item:this.itemToRenderItem(j.item,this.get("store"))});clearTimeout(this._pendingDoubleTap.timer);delete this._pendingDoubleTap}else{this._pendingDoubleTap={item:j.item,timer:setTimeout(n.hitch(this,function(){delete this._pendingDoubleTap}),this.doubleTapDelay)};this._onItemClick({triggerEvent:d,renderer:j.renderer,
item:this.itemToRenderItem(j.item,this.get("store"))})}}this._edProps=null}},_startTouchItemEditingGesture:function(d){var c=this._edProps,h=c.resizeStartTouchIndex!=-1,f=c.resizeEndTouchIndex!=-1;if(h&&f||this._editingGesture&&c.touchesLen==2&&(f&&c.editKind=="resizeStart"||h&&c.editKind=="resizeEnd")){this._editingGesture&&c.editKind!="resizeBoth"&&this._endItemEditingGesture("touch",d);c.editKind="resizeBoth";this._startItemEditingGesture([this.getTime(d,-1,-1,c.resizeStartTouchIndex),this.getTime(d,
-1,-1,c.resizeEndTouchIndex)],c.editKind,"touch",d)}else h&&c.touchesLen==1&&!this._editingGesture?this._startItemEditingGesture([this.getTime(d,-1,-1,c.resizeStartTouchIndex)],"resizeStart","touch",d):f&&c.touchesLen==1&&!this._editingGesture?this._startItemEditingGesture([this.getTime(d,-1,-1,c.resizeEndTouchIndex)],"resizeEnd","touch",d):this._startItemEditingGesture([this.getTime(d)],"move","touch",d)},_getTouchesOnRenderers:function(d,c){for(var h=this._getStartEndRenderers(c),f=-1,g=-1,k=-1,
n=h[0]!=null&&h[0].resizeStartHandle!=null,s=h[1]!=null&&h[1].resizeEndHandle!=null,v=0,r=false,B=this.itemToRenderer[c.id],a=0;a<d.touches.length;a++){if(f==-1&&n)if(r=o.isDescendant(d.touches[a].target,h[0].resizeStartHandle)){f=a;v++}if(g==-1&&s)if(r=o.isDescendant(d.touches[a].target,h[1].resizeEndHandle)){g=a;v++}if(f==-1&&g==-1)for(var e=0;e<B.length;e++)if(r=o.isDescendant(d.touches[a].target,B[e].container)){k=a;v++;break}if(f!=-1&&g!=-1&&k!=-1)break}return{touchesLen:v,resizeStartTouchIndex:f,
resizeEndTouchIndex:g,moveTouchIndex:k}}})})},"dojox/calendar/time":function(){define("dojox/calendar/time",["dojo/_base/lang","dojo/date","dojo/cldr/supplemental"],function(r,n,s){var o={newDate:function(k,g){g=g||Date;return"number"==typeof k?new g(o):k.getTime?new g(k.getTime()):new g(k)},floorToDay:function(k,g,f){f=f||Date;g||(k=o.newDate(k,f));k.setHours(0);k.setMinutes(0);k.setSeconds(0);k.setMilliseconds(0);return k},floorToMonth:function(k,g,f){f=f||Date;g||(k=o.newDate(k,f));k.setDate(1);
k.setHours(0);k.setMinutes(0);k.setSeconds(0);k.setMilliseconds(0);return k},floorToWeek:function(k,g,f,c,d){f=f||n;c=void 0==c||0>c?s.getFirstDayOfWeek(d):c;d=k.getDay();return d==c?k:o.floorToDay(f.add(k,"day",d>c?-d+c:c-d),!0,g)},floor:function(k,g,f,c,d){c=o.floorToDay(k,c,d);switch(g){case "week":return o.floorToWeek(c,firstDayOfWeek,dateFuncObj,locale);case "minute":c.setHours(k.getHours());c.setMinutes(Math.floor(k.getMinutes()/f)*f);break;case "hour":c.setHours(Math.floor(k.getHours()/f)*
f)}return c},isStartOfDay:function(k,g,f){f=f||n;return 0==f.compare(this.floorToDay(k,!1,g),k)},isToday:function(k,g){var g=g||Date,f=new g;return k.getFullYear()==f.getFullYear()&&k.getMonth()==f.getMonth()&&k.getDate()==f.getDate()}};return o})},"dojox/calendar/VerticalRenderer":function(){require({cache:{"url:dojox/calendar/templates/VerticalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarVertical" onselectstart="return false;">\n\t<div class="bg"></div>\n\t<dl style="width:100%;">\n\t\t<dd data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25b2</dd>\n\t\t<dd data-dojo-attach-point="startTimeLabel" class="startTime"></dd>\n\t\t<dd data-dojo-attach-point="summaryLabel" class="summary"></dd>\n\t</dl>\t\n\t<span data-dojo-attach-point="afterIcon" class="afterIcon">\u25bc</span>\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n\t<div data-dojo-attach-point="resizeStartHandle" class="handle resizeStartHandle"></div>\n\t<div data-dojo-attach-point="resizeEndHandle" class="handle resizeEndHandle" ></div>\n\t<div data-dojo-attach-point="endTimeLabel" class="endTime"></div>\n</div>'}});
define("dojox/calendar/VerticalRenderer",["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojox/calendar/_RendererMixin","dojo/text!./templates/VerticalRenderer.html"],function(r,n,s,o,k){return r("dojox.calendar.VerticalRenderer",[n,s,o],{templateString:k,postCreate:function(){this.inherited(arguments);this._applyAttributes()},_isElementVisible:function(g,f,c,d){var j;switch(g){case "startTimeLabel":j=this.item.startTime;if(this.item.allDay||this.owner.isStartOfDay(j))return!1;
break;case "endTimeLabel":if(j=this.item.endTime,this.item.allDay||this.owner.isStartOfDay(j))return!1}return this.inherited(arguments)}})})},"dojox/calendar/StoreMixin":function(){define("dojox/calendar/StoreMixin","dojo/_base/declare dojo/_base/array dojo/_base/html dojo/_base/lang dojo/dom-class dojo/Stateful dojo/_base/Deferred".split(" "),function(r,n,s,o,k,g,f){return r("dojox.calendar.StoreMixin",g,{store:null,query:{},startTimeAttr:"startTime",endTimeAttr:"endTime",summaryAttr:"summary",allDayAttr:"allDay",
cssClassFunc:null,decodeDate:null,encodeDate:null,displayedItemsInvalidated:false,itemToRenderItem:function(c,d){return this.owner?this.owner.itemToRenderItem(c,d):{id:d.getIdentity(c),summary:c[this.summaryAttr],startTime:this.decodeDate&&this.decodeDate(c[this.startTimeAttr])||this.newDate(c[this.startTimeAttr]),endTime:this.decodeDate&&this.decodeDate(c[this.endTimeAttr])||this.newDate(c[this.endTimeAttr]),allDay:c[this.allDayAttr]!=null?c[this.allDayAttr]:false,cssClass:this.cssClassFunc?this.cssClassFunc(c):
null}},renderItemToItem:function(c,d){if(this.owner)return this.owner.renderItemToItem(c,d);var f={};f[d.idProperty]=c.id;f[this.summaryAttr]=c.summary;f[this.startTimeAttr]=this.encodeDate&&this.encodeDate(c.startTime)||c.startTime;f[this.endTimeAttr]=this.encodeDate&&this.encodeDate(c.endTime)||c.endTime;return o.mixin(d.get(c.id),f)},_computeVisibleItems:function(c){var d=c.startTime,f=c.endTime;if(this.items)c.items=n.filter(this.items,function(h){return this.isOverlapping(c,h.startTime,h.endTime,
d,f)},this)},_initItems:function(c){this.set("items",c);return c},_refreshItemsRendering:function(){},_updateItems:function(c,d,f){var h=true,g=null,c=this.itemToRenderItem(c,this.store);if(d!=-1)if(f!=d){this.items.splice(d,1);if(this.setItemSelected&&this.isItemSelected(c)){this.setItemSelected(c,false);this.dispatchChange(c,this.get("selectedItem"),null,null)}}else{g=this.items[d];d=this.dateFuncObj;h=d.compare(c.startTime,g.startTime)!=0||d.compare(c.endTime,g.endTime)!=0;o.mixin(g,c)}else f!=
-1&&this.items.splice(f,0,c);h?this._refreshItemsRendering():this.updateRenderers(g)},_setStoreAttr:function(c){this.displayedItemsInvalidated=true;var d;if(c){d=c.query(this.query);d.observe&&d.observe(o.hitch(this,this._updateItems),true);d=d.map(o.hitch(this,function(d){return this.itemToRenderItem(d,c)}));d=f.when(d,o.hitch(this,this._initItems))}else d=this._initItems([]);this._set("store",c);return d}})})},"url:dojox/calendar/templates/HorizontalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarHorizontal" onselectstart="return false;">\n\t<div class="bg" ></div>\n\t<div style="position:absolute;left:2px;bottom:2px" data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25c4</div>\t\n\t<div data-dojo-attach-point="labelContainer" class="labels">\t\t\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span  data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\n\t<div style="position:absolute;right:2px;bottom:2px" data-dojo-attach-point="afterIcon" class="afterIcon">\u25ba</div>\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n\t<div data-dojo-attach-point="resizeStartHandle" class="handle resizeStartHandle"></div>\n\t<div data-dojo-attach-point="resizeEndHandle" class="handle resizeEndHandle" ></div>\t\n</div>',
"dojox/calendar/ExpandRenderer":function(){require({cache:{"url:dojox/calendar/templates/ExpandRenderer.html":'<div class="dojoxCalendarExpand" onselectstart="return false;" data-dojo-attach-event="click:_onClick,touchstart:_onMouseDown,touchend:_onClick,mousedown:_onMouseDown,mouseup:_onMouseUp,mouseover:_onMouseOver,mouseout:_onMouseOut">\n\t<div class="bg"><span data-dojo-attach-point="expand">\u25bc</span><span style="display:none" data-dojo-attach-point="collapse">\u25b2</span></div>\t\n</div>'}});
define("dojox/calendar/ExpandRenderer","dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/_base/window dojo/on dojo/dom-class dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/ExpandRenderer.html".split(" "),function(r,n,s,o,k,g,f,c,d,j){return r("dojox.calendar.ExpandRenderer",[c,d],{templateString:j,baseClass:"dojoxCalendarExpand",owner:null,focused:false,up:false,down:false,date:null,items:null,rowIndex:-1,columnIndex:-1,_setExpandedAttr:function(d){f.set(this.expand,
"display",d?"none":"inline-block");f.set(this.collapse,"display",d?"inline-block":"none");this._set("expanded",d)},_setDownAttr:function(d){this._setState("down",d,"Down")},_setUpAttr:function(d){this._setState("up",d,"Up")},_setFocusedAttr:function(d){this._setState("focused",d,"Focused")},_setState:function(d,c,f){if(this[d]!=c){g[c?"add":"remove"](this.stateNode||this.domNode,f);this._set(d,c)}},_onClick:function(d){this.owner&&this.owner.expandRendererClickHandler&&this.owner.expandRendererClickHandler(d,
this)},_onMouseDown:function(d){s.stop(d);this.set("down",true)},_onMouseUp:function(){this.set("down",false)},_onMouseOver:function(d){if(!this.up){d=d.button==1;this.set("up",!d);this.set("down",d)}},_onMouseOut:function(d){for(var c=d.relatedTarget;c!=d.currentTarget&&c!=o.doc.body&&c!=null;)c=c.parentNode;if(c!=d.currentTarget){this.set("up",false);this.set("down",false)}}})})},"dojox/calendar/ColumnView":function(){require({cache:{"url:dojox/calendar/templates/ColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t\n\t<div data-dojo-attach-point="header" class="dojoxCalendarHeader">\n\t\t<div class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t\t<table cellspacing="0" cellpadding="0"><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t\t</div>\n\t\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t</div>\n\t</div>\n\t\n\t<div data-dojo-attach-point="secondarySheetNode"></div>\n\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\n\t\t\t<div data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\n\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative;width:1px;height:1px;" ></div>\n\t</div>\n\t\n</div>\n'}});
define("dojox/calendar/ColumnView","dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/sniff dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/dom-construct dojo/on dojo/date dojo/date/locale dojo/query dojox/html/metrics ./SimpleColumnView dojo/text!./templates/ColumnView.html ./ColumnViewSecondarySheet".split(" "),function(r,n,s,o,k,g,f,c,d,j,h,t,y,q,w,A,v,u){return r("dojox.calendar.ColumnView",A,{templateString:v,baseClass:"dojoxCalendarColumnView",secondarySheetClass:u,
secondarySheetProps:null,headerPadding:3,buildRendering:function(){this.inherited(arguments);if(this.secondarySheetNode){this.secondarySheet=new this.secondarySheetClass(s.mixin({owner:this},this.secondarySheetProps),this.secondarySheetNode);this.secondarySheetNode=this.secondarySheet.domNode}},destroy:function(d){this.secondarySheet&&this.secondarySheet.destroy(d);this.inherited(arguments)},_setVisibility:function(d){this.inherited(arguments);this.secondarySheet&&this.secondarySheet._setVisibility(d)},
invalidateLayout:function(){this._layoutRenderers(this.renderData);this.secondarySheet&&this.secondarySheet._layoutRenderers(this.secondarySheet.renderData)},onRowHeaderClick:function(){},resizeSecondarySheet:function(f){if(this.secondarySheetNode){var a=d.getMarginBox(this.header).h;c.set(this.secondarySheetNode,"height",f+"px");this.secondarySheet._resizeHander(null,true);f=f+a+this.headerPadding+"px";c.set(this.scrollContainer,"top",f);this.vScrollBar&&c.set(this.vScrollBar,"top",f)}},updateRenderers:function(d,
a){this.inherited(arguments);this.secondarySheet&&this.secondarySheet.updateRenderers(d,a)},_setItemsAttr:function(d){this.inherited(arguments);this.secondarySheet&&this.secondarySheet.set("items",d)},_setStartDateAttr:function(d){this.inherited(arguments);this.secondarySheet&&this.secondarySheet.set("startDate",d)},_setColumnCountAttr:function(d){this.inherited(arguments);this.secondarySheet&&this.secondarySheet.set("columnCount",d)},_setHorizontalRendererAttr:function(d){this.secondarySheet&&this.secondarySheet.set("horizontalRenderer",
d)},_getHorizontalRendererAttr:function(){if(this.secondarySheet)return this.secondarySheet.get("horizontalRenderer")},_setExpandRendererAttr:function(d){this.secondarySheet&&this.secondarySheet.set("expandRenderer",d)},_getExpandRendererAttr:function(){if(this.secondarySheet)return this.secondarySheet.get("expandRenderer")},_setTextDirAttr:function(d){this.secondarySheet.set("textDir",d);this._set("textDir",d)},_defaultItemToRendererKindFunc:function(d){return d.allDay?null:"vertical"},getSecondarySheet:function(){return this.secondarySheet},
_onGridTouchStart:function(d){this.inherited(arguments);this._doEndItemEditing(this.secondarySheet,"touch")},_onGridMouseDown:function(d){this.inherited(arguments);this._doEndItemEditing(this.secondarySheet,"mouse")},_configureScrollBar:function(d){this.inherited(arguments);if(this.secondarySheetNode){var a=this.isLeftToRight()?true:this.scrollBarRTLPosition=="right";c.set(this.secondarySheetNode,a?"right":"left",d.scrollbarWidth+"px");c.set(this.secondarySheetNode,a?"left":"right","0")}},_refreshItemsRendering:function(){this.inherited(arguments);
if(this.secondarySheet){var d=this.secondarySheet.renderData;this.secondarySheet._computeVisibleItems(d);this.secondarySheet._layoutRenderers(d)}},_layoutRenderers:function(d){if(!this.secondarySheet._domReady){this.secondarySheet._domReady=true;this.secondarySheet._layoutRenderers(this.secondarySheet.renderData)}this.inherited(arguments)},invalidateRendering:function(){this.secondarySheet&&this.secondarySheet.invalidateRendering();this.inherited(arguments)}})})},"dojox/html/metrics":function(){define("dojox/html/metrics",
"dojo/_base/kernel dojo/_base/lang dojo/_base/sniff dojo/ready dojo/_base/unload dojo/_base/window dojo/dom-geometry".split(" "),function(r,n,s,o,k,g,f){var c=n.getObject("dojox.html.metrics",true),d=n.getObject("dojox");c.getFontMeasurements=function(){var d={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0};if(s("ie"))g.doc.documentElement.style.fontSize="100%";var c=g.doc.createElement("div"),f=c.style;f.position="absolute";f.left=
"-100px";f.top="0";f.width="30px";f.height="1000em";f.borderWidth="0";f.margin="0";f.padding="0";f.outline="0";f.lineHeight="1";f.overflow="hidden";g.body().appendChild(c);for(var h in d){f.fontSize=h;d[h]=Math.round(c.offsetHeight*12/16)*16/12/1E3}g.body().removeChild(c);return d};var j=null;c.getCachedFontMeasurements=function(d){if(d||!j)j=c.getFontMeasurements();return j};var h=null,t={};c.getTextBox=function(d,c,j){var k,n;if(h)k=h;else{k=h=g.doc.createElement("div");var a=g.doc.createElement("div");
a.appendChild(k);n=a.style;n.overflow="scroll";n.position="absolute";n.left="0px";n.top="-10000px";n.width="1px";n.height="1px";n.visibility="hidden";n.borderWidth="0";n.margin="0";n.padding="0";n.outline="0";g.body().appendChild(a)}k.className="";n=k.style;n.borderWidth="0";n.margin="0";n.padding="0";n.outline="0";if(arguments.length>1&&c)for(var e in c)e in t||(n[e]=c[e]);if(arguments.length>2&&j)k.className=j;k.innerHTML=d;n=f.position(k);n.w=k.parentNode.scrollWidth;return n};var y=16,q=16;c.getScrollbar=
function(){return{w:y,h:q}};c._fontResizeNode=null;c.initOnFontResize=function(){var f=c._fontResizeNode=g.doc.createElement("iframe"),h=f.style;h.position="absolute";h.width="5em";h.height="10em";h.top="-10000px";s("ie")?f.onreadystatechange=function(){if(f.contentWindow.document.readyState=="complete")f.onresize=f.contentWindow.parent[d._scopeName].html.metrics._fontresize}:f.onload=function(){f.contentWindow.onresize=f.contentWindow.parent[d._scopeName].html.metrics._fontresize};f.setAttribute("src",
"javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}<\/script></head><body></body></html>'");g.body().appendChild(f);c.initOnFontResize=function(){}};c.onFontResize=function(){};c._fontresize=function(){c.onFontResize()};k.addOnUnload(function(){var d=c._fontResizeNode;if(d){if(s("ie")&&d.onresize)d.onresize=null;else if(d.contentWindow&&d.contentWindow.onresize)d.contentWindow.onresize=null;c._fontResizeNode=null}});o(function(){try{var d=g.doc.createElement("div");
d.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";g.body().appendChild(d);y=d.offsetWidth-d.clientWidth;q=d.offsetHeight-d.clientHeight;g.body().removeChild(d);delete d}catch(f){}"fontSizeWatch"in r.config&&r.config.fontSizeWatch&&c.initOnFontResize()});return c})},"dojox/calendar/SimpleColumnView":function(){require({cache:{"url:dojox/calendar/templates/SimpleColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\t\n\t<div data-dojo-attach-point="header" class="dojoxCalendarHeader">\n\t\t<div class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t\t<table><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t\t</div>\n\t\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t</div>\n\t</div>\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative; width:1px; height:1px;" ></div>\n\t</div>\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\n\t\t\t<div data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\n\t\n</div>\n'}});
define("dojox/calendar/SimpleColumnView","./ViewBase dijit/_TemplatedMixin ./_VerticalScrollBarBase dojo/text!./templates/SimpleColumnView.html dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/array dojo/_base/sniff dojo/_base/fx dojo/_base/html dojo/on dojo/dom dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/dom-construct dojo/query dojox/html/metrics".split(" "),function(r,n,s,o,k,g,f,c,d,j,h,t,y,q,w,A,v,u,B){return k("dojox.calendar.SimpleColumnView",[r,n],{baseClass:"dojoxCalendarSimpleColumnView",
templateString:o,viewKind:"columns",_setTabIndexAttr:"domNode",renderData:null,startDate:null,columnCount:7,minHours:8,maxHours:18,hourSize:100,timeSlotDuration:15,verticalRenderer:null,percentOverlap:70,horizontalGap:4,_columnHeaderHandlers:null,constructor:function(){this.invalidatingProperties=["columnCount","startDate","minHours","maxHours","hourSize","verticalRenderer","rowHeaderTimePattern","columnHeaderDatePattern","timeSlotDuration","percentOverlap","horizontalGap","scrollBarRTLPosition",
"itemToRendererKindFunc","layoutPriorityFunction","formatItemTimeFunc","textDir","items"];this._columnHeaderHandlers=[]},destroy:function(a){this._cleanupColumnHeader();this.scrollBar&&this.scrollBar.destroy(a);this.inherited(arguments)},_scrollBar_onScroll:function(a){this.scrollContainer.scrollTop=a},buildRendering:function(){this.inherited(arguments);if(this.vScrollBar){this.scrollBar=new s({content:this.vScrollBarContent},this.vScrollBar);this.scrollBar.on("scroll",f.hitch(this,this._scrollBar_onScroll));
this._viewHandles.push(t(this.scrollContainer,d("mozilla")?"DOMMouseScroll":"mousewheel",dojo.hitch(this,this._mouseWheelScrollHander)))}},postscript:function(){this.inherited(arguments);this._initialized=true;this.invalidRendering||this.refreshRendering()},_setVerticalRendererAttr:function(a){this._destroyRenderersByKind("vertical");this._set("verticalRenderer",a)},_createRenderData:function(){var a={};a.minHours=this.get("minHours");a.maxHours=this.get("maxHours");a.hourSize=this.get("hourSize");
a.hourCount=a.maxHours-a.minHours;a.slotDuration=this.get("timeSlotDuration");a.slotSize=Math.ceil(a.hourSize/(60/a.slotDuration));a.hourSize=a.slotSize*(60/a.slotDuration);a.sheetHeight=a.hourSize*a.hourCount;a.scrollbarWidth=B.getScrollbar().w+1;a.dateLocaleModule=this.dateLocaleModule;a.dateClassObj=this.dateClassObj;a.dateFuncObj=this.dateFuncObj;a.dates=[];a.columnCount=this.get("columnCount");var e=this.get("startDate");e==null&&(e=new a.dateClassObj);this.startDate=e=this.floorToDay(e,false,
a);for(var b=0;b<a.columnCount;b++){a.dates.push(e);e=a.dateFuncObj.add(e,"day",1);e=this.floorToDay(e,false,a)}a.startTime=new a.dateClassObj(a.dates[0]);a.startTime.setHours(a.minHours);a.endTime=new a.dateClassObj(a.dates[a.columnCount-1]);a.endTime.setHours(a.maxHours);if(this.displayedItemsInvalidated){this.displayedItemsInvalidated=false;this._computeVisibleItems(a);this._isEditing&&this._endItemEditing(null,false)}else if(this.renderData)a.items=this.renderData.items;return a},_validateProperties:function(){this.inherited(arguments);
var a=this.minHours;if(a<0||a>24||isNaN(a))this.minHours=0;a=this.maxHours;if(a<0||a>24||isNaN(a))this.minHours=24;if(this.minHours>this.maxHours){var e=this.maxHours;this.maxHours=this.minHours;this.maxHours=e}if(a-this.minHours<1){this.minHours=0;this.maxHours=24}if(this.columnCount<1||isNaN(this.columnCount))this.columnCount=1;if(this.percentOverlap<0||this.percentOverlap>100||isNaN(this.percentOverlap))this.percentOverlap=70;if(this.hourSize<5||isNaN(this.hourSize))this.hourSize=10;a=this.timeSlotDuration;
a<1||a>60||isNaN(a)},_setStartDateAttr:function(a){this.displayedItemsInvalidated=true;this._set("startDate",a)},_setColumnCountAttr:function(a){this.displayedItemsInvalidated=true;this._set("columnCount",a)},__fixEvt:function(a){a.sheet="primary";a.source=this;return a},_formatRowHeaderLabel:function(a){return this.renderData.dateLocaleModule.format(a,{selector:"time",timePattern:this.rowHeaderTimePattern})},_formatColumnHeaderLabel:function(a){return this.renderData.dateLocaleModule.format(a,{selector:"date",
datePattern:this.columnHeaderDatePattern,formatLength:"medium"})},startTimeOfDay:null,scrollBarRTLPosition:"left",_getStartTimeOfDay:function(){var a=(this.get("maxHours")-this.get("minHours"))*this.scrollContainer.scrollTop/this.renderData.sheetHeight;return{hours:this.renderData.minHours+Math.floor(a),minutes:(a-Math.floor(a))*60}},_getEndTimeOfDay:function(){var a=(this.get("maxHours")-this.get("minHours"))*(this.scrollContainer.scrollTop+this.scrollContainer.offsetHeight)/this.renderData.sheetHeight;
return{hours:this.renderData.minHours+Math.floor(a),minutes:(a-Math.floor(a))*60}},_setStartTimeOfDayAttr:function(a){this._setStartTimeOfDay(a.hours,a.minutes,a.duration,a.easing)},_getStartTimeOfDayAttr:function(){return this._getStartTimeOfDay()},_setStartTimeOfDay:function(a,e,b,l){var m=this.renderData,a=a||m.minHours,e=e||0,b=b||0;e<0?e=0:e>59&&(e=59);a<0?a=0:a>24&&(a=24);var a=a*60+e,e=m.minHours*60,x=m.maxHours*60;a<e?a=e:a>x&&(a=x);a=(a-e)*m.sheetHeight/(x-e);a=Math.min(m.sheetHeight-this.scrollContainer.offsetHeight,
a);this._scrollToPosition(a,b,l)},_scrollToPosition:function(a,e,b){if(e){this._scrollAnimation&&this._scrollAnimation.stop();e=Math.abs((a-this.scrollContainer.scrollTop)*e/this.renderData.sheetHeight);this._scrollAnimation=new j.Animation({curve:[this.scrollContainer.scrollTop,a],duration:e,easing:b,onAnimate:f.hitch(this,function(a){this._setScrollImpl(a)})});this._scrollAnimation.play()}else this._setScrollImpl(a)},_setScrollImpl:function(a){this.scrollContainer.scrollTop=a;this.scrollBar&&this.scrollBar.set("value",
a)},ensureVisibility:function(a,e,b,l,m){l=l==void 0?this.renderData.slotDuration:l;if(this.scrollable&&this.autoScroll){var a=a.getHours()*60+a.getMinutes()-l,e=e.getHours()*60+e.getMinutes()+l,l=this._getStartTimeOfDay(),x=this._getEndTimeOfDay(),l=l.hours*60+l.minutes,x=x.hours*60+x.minutes,d=false,c=null;switch(b){case "start":d=a>=l&&a<=x;c=a;break;case "end":d=e>=l&&e<=x;c=e-(x-l);break;case "both":d=a>=l&&e<=x;c=a}d||this._setStartTimeOfDay(Math.floor(c/60),c%60,m)}},scrollView:function(a){var e=
this._getStartTimeOfDay(),e=e.hours*60+e.minutes+a*this.timeSlotDuration;this._setStartTimeOfDay(Math.floor(e/60),e%60)},_mouseWheelScrollHander:function(a){a=d("mozilla")?-a.detail:a.wheelDelta;this.scrollView(a>0?-1:1)},refreshRendering:function(){if(this._initialized){this._validateProperties();var a=this.renderData,e=this._createRenderData();this.renderData=e;this._createRendering(e,a);this._layoutRenderers(e)}},_createRendering:function(a,e){w.set(this.sheetContainer,"height",a.sheetHeight+"px");
this._configureScrollBar(a);this._buildColumnHeader(a,e);this._buildRowHeader(a,e);this._buildGrid(a,e);this._buildItemContainer(a,e)},_configureScrollBar:function(a){d("ie")&&this.scrollBar&&w.set(this.scrollBar.domNode,"width",a.scrollbarWidth+1+"px");var e=this.isLeftToRight()?true:this.scrollBarRTLPosition=="right";if(this.scrollBar){this.scrollBar.set("maximum",a.sheetHeight);w.set(this.scrollBar.domNode,e?"right":"left",0);w.set(this.scrollBar.domNode,e?"left":"right","auto")}w.set(this.scrollContainer,
e?"right":"left",a.scrollbarWidth+"px");w.set(this.scrollContainer,e?"left":"right","0");w.set(this.header,e?"right":"left",a.scrollbarWidth+"px");w.set(this.header,e?"left":"right","0");if(this.buttonContainer&&this.owner!=null&&this.owner.currentView==this){w.set(this.buttonContainer,e?"right":"left",a.scrollbarWidth+"px");w.set(this.buttonContainer,e?"left":"right","0")}},_columnHeaderClick:function(a){g.stop(a);var e=u("td",this.columnHeaderTable).indexOf(a.currentTarget);this._onColumnHeaderClick({index:e,
date:this.renderData.dates[e],triggerEvent:a})},_buildColumnHeader:function(a,e){var b=this.columnHeaderTable;if(b){var l=a.columnCount-(e?e.columnCount:0);if(d("ie")==8)if(this._colTableSave==null)this._colTableSave=f.clone(b);else if(l<0){this._cleanupColumnHeader();this.columnHeader.removeChild(b);v.destroy(b);this.columnHeaderTable=b=f.clone(this._colTableSave);this.columnHeader.appendChild(b);l=a.columnCount}var m=u("tbody",b),x=u("tr",b),c,m=m.length==1?m[0]:h.create("tbody",null,b),x=x.length==
1?x[0]:v.create("tr",null,m);if(l>0)for(m=0;m<l;m++){c=v.create("td",null,x);var z=[];z.push(t(c,"click",f.hitch(this,this._columnHeaderClick)));if(d("touch")){z.push(t(c,"touchstart",function(a){g.stop(a);q.add(a.currentTarget,"Active")}));z.push(t(c,"touchend",function(a){g.stop(a);q.remove(a.currentTarget,"Active")}))}else{z.push(t(c,"mousedown",function(a){g.stop(a);q.add(a.currentTarget,"Active")}));z.push(t(c,"mouseup",function(a){g.stop(a);q.remove(a.currentTarget,"Active")}));z.push(t(c,"mouseover",
function(a){g.stop(a);q.add(a.currentTarget,"Hover")}));z.push(t(c,"mouseout",function(a){g.stop(a);q.remove(a.currentTarget,"Hover")}))}this._columnHeaderHandlers.push(z)}else{l=-l;for(m=0;m<l;m++){c=x.lastChild;x.removeChild(c);v.destroy(c);for(c=this._columnHeaderHandlers.pop();c.length>0;)c.pop().remove()}}u("td",b).forEach(function(e,b){e.className="";b==0?q.add(e,"first-child"):b==this.renderData.columnCount-1&&q.add(e,"last-child");var l=a.dates[b];this._setText(e,this._formatColumnHeaderLabel(l));
this.styleColumnHeaderCell(e,l,a)},this);this.yearColumnHeaderContent&&this._setText(this.yearColumnHeaderContent,a.dateLocaleModule.format(a.dates[0],{selector:"date",datePattern:"yyyy"}))}},_cleanupColumnHeader:function(){for(;this._columnHeaderHandlers.length>0;)for(var a=this._columnHeaderHandlers.pop();a.length>0;)a.pop().remove()},styleColumnHeaderCell:function(a,e){if(this.isToday(e))return q.add(a,"dojoxCalendarToday");if(this.isWeekEnd(e))return q.add(a,"dojoxCalendarWeekend")},_buildRowHeader:function(a,
e){var b=this.rowHeaderTable;if(b){w.set(b,"height",a.sheetHeight+"px");var l=u("tbody",b),m,l=l.length==1?l[0]:v.create("tbody",null,b),x=a.hourCount-(e?e.hourCount:0);if(x>0)for(var c=0;c<x;c++){m=v.create("tr",null,l);v.create("td",null,m)}else{x=-x;for(c=0;c<x;c++)l.removeChild(l.lastChild)}var f=new Date(2E3,0,1,0,0,0);u("tr",b).forEach(function(e,b){var l=u("td",e)[0];l.className="";var m=a.hourSize;d("ie")==7&&(m=m-2);w.set(e,"height",m+"px");f.setHours(this.renderData.minHours+b);this.styleRowHeaderCell(l,
f.getHours(),a);this._setText(l,this._formatRowHeaderLabel(f))},this)}},styleRowHeaderCell:function(){},_buildGrid:function(a,e){var b=this.gridTable;if(b){w.set(b,"height",a.sheetHeight+"px");var l=Math.floor(60/a.slotDuration)*a.hourCount,m=l-(e?Math.floor(60/e.slotDuration)*e.hourCount:0),x=m>0,c=a.columnCount-(e?e.columnCount:0);if(d("ie")==8)if(this._gridTableSave==null)this._gridTableSave=f.clone(b);else if(c<0){this.grid.removeChild(b);v.destroy(b);this.gridTable=b=f.clone(this._gridTableSave);
this.grid.appendChild(b);c=a.columnCount;m=l;x=true}var z=u("tbody",b),z=z.length==1?z[0]:v.create("tbody",null,b);if(x)for(var h=0;h<m;h++)v.create("tr",null,z);else{m=-m;for(h=0;h<m;h++)z.removeChild(z.lastChild)}var g=Math.floor(60/a.slotDuration)*a.hourCount-m,j=x||c>0,c=j?c:-c;u("tr",b).forEach(function(e,b){if(j)for(var l=b>=g?a.columnCount:c,b=0;b<l;b++)v.create("td",null,e);else for(b=0;b<c;b++)e.removeChild(e.lastChild)});u("tr",b).forEach(function(e,b){w.set(e,"height",a.slotSize+"px");
b==0?q.add(e,"first-child"):b==l-1&&q.add(e,"last-child");var m=b*this.renderData.slotDuration%60;u("td",e).forEach(function(e,b){e.className="";b==0?q.add(e,"first-child"):b==this.renderData.columnCount-1&&q.add(e,"last-child");this.styleGridColumn(e,a.dates[b],a);switch(m){case 0:q.add(e,"hour");break;case 30:q.add(e,"halfhour");break;case 15:case 45:q.add(e,"quarterhour")}},this)},this)}},styleGridColumn:function(a,e){if(this.isToday(e))return q.add(a,"dojoxCalendarToday");if(this.isWeekEnd(e))return q.add(a,
"dojoxCalendarWeekend")},_buildItemContainer:function(a,e){var b=this.itemContainerTable;if(b){var l=[];w.set(b,"height",a.sheetHeight+"px");var m=a.columnCount-(e?e.columnCount:0);if(d("ie")==8)if(this._itemTableSave==null)this._itemTableSave=f.clone(b);else if(m<0){this.itemContainer.removeChild(b);this._recycleItemRenderers(true);v.destroy(b);this.itemContainerTable=b=f.clone(this._itemTableSave);this.itemContainer.appendChild(b);m=a.columnCount}var x=u("tbody",b),c=u("tr",b),x=x.length==1?x[0]:
v.create("tbody",null,b),c=c.length==1?c[0]:v.create("tr",null,x);if(m>0)for(var z=0;z<m;z++){x=v.create("td",null,c);v.create("div",{className:"dojoxCalendarContainerColumn"},x)}else{m=-m;for(z=0;z<m;z++)c.removeChild(c.lastChild)}u("td>div",b).forEach(function(e){w.set(e,{height:a.sheetHeight+"px",marginBottom:"-"+a.sheetHeight+"px"});l.push(e)},this);a.cells=l}},_overlapLayoutPass2:function(a){var e,b,l,m;l=a[a.length-1];for(b=0;b<l.length;b++)l[b].extent=1;for(e=0;e<a.length-1;e++){l=a[e];for(b=
0;b<l.length;b++){m=l[b];if(m.extent==-1){m.extent=1;for(var x=0,d=false,c=e+1;c<a.length&&!d;c++){for(var f=a[c],h=0;h<f.length&&!d;h++){var g=f[h];m.start<g.end&&g.start<m.end&&(d=true)}d||x++}m.extent=m.extent+x}}}},_defaultItemToRendererKindFunc:function(){return"vertical"},_layoutInterval:function(a,e,b,l,m){var x=[];a.colW=this.itemContainer.offsetWidth/a.columnCount;for(var d=0;d<m.length;d++){var c=m[d];this._itemToRendererKind(c)=="vertical"&&x.push(c)}x.length>0&&this._layoutVerticalItems(a,
e,b,l,x)},_layoutVerticalItems:function(a,e,b,l,m){if(this.verticalRenderer!=null){for(var e=a.cells[e],x=[],d=0;d<m.length;d++){var c=m[d],h=this.computeRangeOverlap(a,c.startTime,c.endTime,b,l),g=this.computeProjectionOnDate(a,b,h[0],a.sheetHeight),j=this.computeProjectionOnDate(a,b,h[1],a.sheetHeight);if(j>g){c=f.mixin({start:g,end:j,range:h,item:c},c);x.push(c)}}b=this.computeOverlapping(x,this._overlapLayoutPass2).numLanes;l=this.percentOverlap/100;for(d=0;d<x.length;d++){c=x[d];g=c.lane;h=c.extent;
if(l==0){m=b==1?a.colW:(a.colW-(b-1)*this.horizontalGap)/b;g=g*(m+this.horizontalGap);m=h==1?m:m*h+(h-1)*this.horizontalGap;m=100*m/a.colW;g=100*g/a.colW}else{m=b==1?100:100/(b-(b-1)*l);g=g*(m-l*m);m=h==1?m:m*(h-(h-1)*l)}h=this._createRenderer(c,"vertical",this.verticalRenderer,"dojoxCalendarVertical");w.set(h.container,{top:c.start+"px",left:g+"%",width:m+"%",height:c.end-c.start+1+"px"});var g=this.isItemBeingEdited(c),j=this.isItemSelected(c),k=this.isItemHovered(c),n=this.isItemFocused(c),o=h.renderer;
o.set("hovered",k);o.set("selected",j);o.set("edited",g);o.set("focused",this.showFocus?n:false);o.set("moveEnabled",this.isItemMoveEnabled(c,"vertical"));o.set("resizeEnabled",this.isItemResizeEnabled(c,"vertical"));this.applyRendererZIndex(c,h,k,j,g,n);o.updateRendering&&o.updateRendering(m,c.end-c.start+1);v.place(h.container,e);w.set(h.container,"display","block")}}},_sortItemsFunction:function(a,e){var b=this.dateFuncObj.compare(a.startTime,e.startTime);b==0&&(b=-1*this.dateFuncObj.compare(a.endTime,
e.endTime));return this.isLeftToRight()?b:-b},getTime:function(a,e,b,l){if(a!=null){b=A.position(this.itemContainer,true);if(a.touches){l=l==void 0?0:l;e=a.touches[l].pageX-b.x;b=a.touches[l].pageY-b.y}else{e=a.pageX-b.x;b=a.pageY-b.y}}a=A.getContentBox(this.itemContainer);this.isLeftToRight()||(e=a.w-e);e<0?e=0:e>a.w&&(e=a.w-1);b<0?b=0:b>a.h&&(b=a.h-1);e=Math.floor(e/(A.getMarginBox(this.itemContainer).w/this.renderData.columnCount));b=this.getTimeOfDay(b,this.renderData);a=null;if(e<this.renderData.dates.length){a=
this.newDate(this.renderData.dates[e]);a=this.floorToDay(a,true);a.setHours(b.hours);a.setMinutes(b.minutes)}return a},_onGridMouseUp:function(a){this.inherited(arguments);if(this._gridMouseDown){this._gridMouseDown=false;this._onGridClick({date:this.getTime(a),triggerEvent:a})}},_onGridTouchStart:function(a){this.inherited(arguments);var e=this._gridProps;e.moved=false;e.start=a.touches[0].screenY;e.scrollTop=this.scrollContainer.scrollTop},_onGridTouchMove:function(a){this.inherited(arguments);
if(a.touches.length>1&&!this._isEditing)g.stop(a);else if(this._gridProps&&!this._isEditing){var e=a.touches[0].screenX,b=a.touches[0].screenY,l=this._edProps;if(!l||l&&(Math.abs(e-l.start.x)>25||Math.abs(b-l.start.y)>25)){this._gridProps.moved=true;e=this._gridProps.scrollTop-(a.touches[0].screenY-this._gridProps.start);b=this.itemContainer.offsetHeight-this.scrollContainer.offsetHeight;if(e<0){this._gridProps.start=a.touches[0].screenY;this._setScrollImpl(0);this._gridProps.scrollTop=0}else if(e>
b){this._gridProps.start=a.touches[0].screenY;this._setScrollImpl(b);this._gridProps.scrollTop=b}else this._setScrollImpl(e)}}},_onGridTouchEnd:function(a){this.inherited(arguments);var e=this._gridProps;if(e){if(!this._isEditing&&!e.moved){!e.fromItem&&!e.editingOnStart&&this.selectFromEvent(a,null,null,true);if(!e.fromItem)if(this._pendingDoubleTap&&this._pendingDoubleTap.grid){this._onGridDoubleClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event});clearTimeout(this._pendingDoubleTap.timer);
delete this._pendingDoubleTap}else{this._onGridClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event});this._pendingDoubleTap={grid:true,timer:setTimeout(f.hitch(this,function(){delete this._pendingDoubleTap}),this.doubleTapDelay)}}}this._gridProps=null}},_onColumnHeaderClick:function(a){this._dispatchCalendarEvt(a,"onColumnHeaderClick")},onColumnHeaderClick:function(){},getTimeOfDay:function(a,e){var b=e.minHours*60,b=b+a*(e.maxHours*60-b)/e.sheetHeight;return{hours:Math.floor(b/
60),minutes:Math.floor(b%60)}},_isItemInView:function(a){var e=this.inherited(arguments);if(e){var b=this.renderData;if(b.dateFuncObj.difference(a.startTime,a.endTime,"millisecond")>(24-b.maxHours+b.minHours)*36E5)return true;var l=a.startTime.getHours()*60+a.startTime.getMinutes(),m=a.endTime.getHours()*60+a.endTime.getMinutes(),d=b.minHours*60,b=b.maxHours*60;if(l>0&&l<d||l>b&&l<=1440||m>0&&m<d||m>b&&m<=1440)return false}return e},_ensureItemInView:function(a){var e,b=a.startTime,l=a.endTime,m=
this.renderData,d=m.dateFuncObj,c=Math.abs(d.difference(a.startTime,a.endTime,"millisecond"));if(c>(24-m.maxHours+m.minHours)*36E5)return false;var b=b.getHours()*60+b.getMinutes(),l=l.getHours()*60+l.getMinutes(),f=m.minHours*60,h=m.maxHours*60;if(b>0&&b<f){this.floorToDay(a.startTime,true,m);a.startTime.setHours(m.minHours);a.endTime=d.add(a.startTime,"millisecond",c);e=true}else if(b>h&&b<=1440){this.floorToDay(a.startTime,true,m);a.startTime=d.add(a.startTime,"day",1);a.startTime.setHours(m.minHours);
a.endTime=d.add(a.startTime,"millisecond",c);e=true}if(l>0&&l<f){this.floorToDay(a.endTime,true,m);a.endTime=d.add(a.endTime,"day",-1);a.endTime.setHours(m.maxHours);a.startTime=d.add(a.endTime,"millisecond",-c);e=true}else if(l>h&&l<=1440){this.floorToDay(a.endTime,true,m);a.endTime.setHours(m.maxHours);a.startTime=d.add(a.endTime,"millisecond",-c);e=true}return e=e||this.inherited(arguments)},_onScrollTimer_tick:function(){this._scrollToPosition(this.scrollContainer.scrollTop+this._scrollProps.scrollStep)},
snapUnit:"minute",snapSteps:15,minDurationUnit:"minute",minDurationSteps:15,liveLayout:false,stayInView:true,allowStartEndSwap:true,allowResizeLessThan24H:true})})},"url:dojox/calendar/templates/MonthColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\t\t\n\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative; width:1px; height:1px;" ></div>\n\t</div>\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\t\t\t\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\t\n</div>\n',
"url:dojox/calendar/templates/MobileHorizontalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarHorizontal" onselectstart="return false;">\n\t<div class="bg" ></div>\n\t<div style="position:absolute;left:2px;bottom:2px"><span data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25c4</span></div>\t\n\t<div data-dojo-attach-point="labelContainer" class="labels">\t\t\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span  data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\n\t<div style="position:absolute;right:2px;bottom:2px"><span data-dojo-attach-point="afterIcon" class="afterIcon">\u25ba</span></div>\n\t<div data-dojo-attach-point="moveHandle" class="moveHandle" ></div>\t\n\t<div data-dojo-attach-point="resizeStartHandle" class="resizeHandle resizeStartHandle"><div></div></div>\t\n\t<div data-dojo-attach-point="resizeEndHandle" class="resizeHandle resizeEndHandle"><div></div></div>\t\n</div>',
"url:dojox/calendar/templates/LabelRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarLabel" onselectstart="return false;">\t\n\t<div class="labels">\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\t\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n</div>',"dojox/calendar/Mouse":function(){define("dojox/calendar/Mouse",
"dojo/_base/array dojo/_base/lang dojo/_base/declare dojo/_base/window dojo/dom-geometry dojo/on dojo/_base/event dojo/keys".split(" "),function(r,n,s,o,k,g,f){return s("dojox.calendar.Mouse",null,{triggerExtent:3,postMixInProperties:function(){this.inherited(arguments);this.on("rendererCreated",n.hitch(this,function(c){var d=c.renderer,j;if(!d.__handles)d.__handles=[];j=g(d.domNode,"click",n.hitch(this,function(c){f.stop(c);this._onItemClick({triggerEvent:c,renderer:d,item:this.renderItemToItem(d.item,
this.get("store"))})}));d.__handles.push(j);j=g(d.domNode,"dblclick",n.hitch(this,function(c){f.stop(c);this._onItemDoubleClick({triggerEvent:c,renderer:d,item:this.renderItemToItem(d.item,this.get("store"))})}));d.__handles.push(j);if(d.resizeStartHandle){j=g(d.resizeStartHandle,"mousedown",n.hitch(this,function(c){this._onRendererHandleMouseDown(c,d,"resizeStart")}));d.__handles.push(j)}if(d.moveHandle){j=g(d.moveHandle,"mousedown",n.hitch(this,function(c){this._onRendererHandleMouseDown(c,d,"move")}));
d.__handles.push(j)}if(d.resizeEndHandle){j=g(d.resizeEndHandle,"mousedown",n.hitch(this,function(c){this._onRendererHandleMouseDown(c,d,"resizeEnd")}));d.__handles.push(j)}j=g(d.domNode,"mousedown",n.hitch(this,function(c){this._rendererMouseDownHandler(c,d)}));d.__handles.push(j);j=g(c.container,"mouseover",n.hitch(this,function(f){if(d.item&&!this._isCursorInRenderer){this._isCursorInRenderer=true;if(!this._editingGesture){this._setHoveredItem(d.item.item,c.renderer);this._onItemRollOver(this.__fixEvt({item:this.renderItemToItem(d.item,
this.get("store")),renderer:d,triggerEvent:f}))}}}));d.__handles.push(j);j=g(d.domNode,"mouseout",n.hitch(this,function(c){if(d.item&&this._isCursorInRenderer&&!this._editingGesture){for(var f=c.relatedTarget;f!=c.currentTarget&&f!=o.doc.body&&f!=null;)f=f.parentNode;if(f!=c.currentTarget){delete this._isCursorInRenderer;this._setHoveredItem(null);this._onItemRollOut(this.__fixEvt({item:this.renderItemToItem(d.item,this.get("store")),renderer:d,triggerEvent:c}))}}}));d.__handles.push(j)}))},_onItemRollOver:function(c){this._dispatchCalendarEvt(c,
"onItemRollOver")},onItemRollOver:function(){},_onItemRollOut:function(c){this._dispatchCalendarEvt(c,"onItemRollOut")},onItemRollOut:function(){},_rendererMouseDownHandler:function(c,d){f.stop(c);var g=this.renderItemToItem(d.item,this.get("store"));this.selectFromEvent(c,g,d,true);this._setTabIndexAttr&&this[this._setTabIndexAttr].focus()},_onRendererHandleMouseDown:function(c,d,f){this.showFocus=false;var h=d.item.item;if(!this.isItemBeingEdited(h)){this._isEditing&&this._endItemEditing("mouse",
false);this.selectFromEvent(c,this.renderItemToItem(d.item,this.get("store")),d,true);this._edProps={editKind:f,editedItem:h,rendererKind:d.rendererKind,tempEditedItem:h,liveLayout:this.liveLayout};this.set("focusedItem",this._edProps.editedItem)}d=[];d.push(g(o.doc,"mouseup",n.hitch(this,this._editingMouseUpHandler)));d.push(g(o.doc,"mousemove",n.hitch(this,this._editingMouseMoveHandler)));h=this._edProps;h.handles=d;h.eventSource="mouse";h.editKind=f;this._startPoint={x:c.screenX,y:c.screenY}},
_editingMouseMoveHandler:function(c){var d=this._edProps;if(this._editingGesture)this._autoScroll(c.pageX,c.pageY,true)||this._moveOrResizeItemGesture([this.getTime(c)],"mouse",c);else if(Math.abs(this._startPoint.x-c.screenX)>=this.triggerExtent||Math.abs(this._startPoint.y-c.screenY)>=this.triggerExtent){this._isEditing||this._startItemEditing(d.editedItem,"mouse");d=this._edProps;this._startItemEditingGesture([this.getTime(c)],d.editKind,"mouse",c)}},_editingMouseUpHandler:function(c){var d=this._edProps;
this._stopAutoScroll();if(this._isEditing){this._editingGesture&&this._endItemEditingGesture("mouse",c);this._endItemEditing("mouse",false)}else r.forEach(d.handles,function(d){d.remove()})},_autoScroll:function(c,d,f){if(!this.scrollable||!this.autoScroll)return false;var g=k.position(this.scrollContainer,true),c=f?d-g.y:c-g.x,f=f?g.h:g.w;if(c<0||c>f){step=Math.floor((c<0?c:c-f)/2)/3;this._startAutoScroll(step);return true}this._stopAutoScroll();return false}})})},"dojox/calendar/MobileCalendar":function(){require({cache:{"url:dojox/calendar/templates/MobileCalendar.html":'<div>\n\t<div data-dojo-attach-point="viewContainer" class="viewContainer"></div>\n\t<div data-dojo-attach-point="buttonContainer" class="buttonContainer">\n\t\t\t<button data-dojo-attach-point="previousButton" data-dojo-type="dojox.mobile.Button" >\u25c4</button>\n\t\t\t<button data-dojo-attach-point="todayButton" data-dojo-type="dojox.mobile.Button" />Today</button>\n\t\t\t<button data-dojo-attach-point="dayButton" data-dojo-type="dojox.mobile.Button" >Day</button>\n\t\t\t<button data-dojo-attach-point="weekButton" data-dojo-type="dojox.mobile.Button" >Week</button>\t\t\t\n\t\t\t<button data-dojo-attach-point="monthButton" data-dojo-type="dojox.mobile.Button" >Month</button>\n\t\t<button data-dojo-attach-point="nextButton" data-dojo-type="dojox.mobile.Button" >\u25ba</button>\n\t</div>\n</div>'}});
define("dojox/calendar/MobileCalendar","dojo/_base/declare dojo/_base/lang ./CalendarBase ./ColumnView ./ColumnViewSecondarySheet ./MobileVerticalRenderer ./MatrixView ./MobileHorizontalRenderer ./LabelRenderer ./ExpandRenderer ./Touch dojo/text!./templates/MobileCalendar.html dojox/mobile/Button".split(" "),function(r,n,s,o,k,g,f,c,d,j,h,t){return r("dojox.calendar.MobileCalendar",s,{templateString:t,_createDefaultViews:function(){var t=r([k,h]),t=r([o,h])(n.mixin({secondarySheetClass:t,verticalRenderer:g,
horizontalRenderer:c,expandRenderer:j},this.columnViewProps)),q=r([f,h])(n.mixin({horizontalRenderer:c,labelRenderer:d,expandRenderer:j},this.matrixViewProps));this.columnView=t;this.matrixView=q;t=[t,q];this.installDefaultViewsActions(t);return t},installDefaultViewsActions:function(){this.matrixView.on("rowHeaderClick",n.hitch(this,this.matrixViewRowHeaderClick));this.columnView.on("columnHeaderClick",n.hitch(this,this.columnViewColumnHeaderClick))}})})},"dojox/calendar/MonthColumnView":function(){require({cache:{"url:dojox/calendar/templates/MonthColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\t\t\n\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative; width:1px; height:1px;" ></div>\n\t</div>\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\t\t\t\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\t\n</div>\n'}});
define("dojox/calendar/MonthColumnView","./ViewBase dijit/_TemplatedMixin ./_VerticalScrollBarBase dojo/text!./templates/MonthColumnView.html dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/array dojo/_base/sniff dojo/_base/fx dojo/_base/html dojo/on dojo/dom dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/dom-construct dojo/query dojo/i18n dojox/html/metrics".split(" "),function(r,n,s,o,k,g,f,c,d,j,h,t,y,q,w,A,v,u,B,a){return k("dojox.calendar.MonthColumnView",[r,n],{baseClass:"dojoxCalendarMonthColumnView",
templateString:o,viewKind:"monthColumns",_setTabIndexAttr:"domNode",renderData:null,startDate:null,columnCount:6,daySize:30,showCellLabel:true,showHiddenItems:true,verticalRenderer:null,percentOverlap:0,horizontalGap:4,columnHeaderFormatLength:null,gridCellDatePattern:null,roundToDay:true,_layoutUnit:"month",_columnHeaderHandlers:null,constructor:function(){this.invalidatingProperties=["columnCount","startDate","daySize","percentOverlap","verticalRenderer","columnHeaderDatePattern","horizontalGap",
"scrollBarRTLPosition","itemToRendererKindFunc","layoutPriorityFunction","textDir","items","showCellLabel","showHiddenItems"];this._columnHeaderHandlers=[]},postCreate:function(){this.inherited(arguments);this.keyboardUpDownUnit="day";this.keyboardUpDownSteps=1;this.keyboardLeftRightUnit="month";this.keyboardLeftRightSteps=1;this.allDayKeyboardUpDownUnit="day";this.allDayKeyboardUpDownSteps=1;this.allDayKeyboardLeftRightUnit="month";this.allDayKeyboardLeftRightSteps=1},destroy:function(a){this._cleanupColumnHeader();
this.scrollBar&&this.scrollBar.destroy(a);this.inherited(arguments)},_scrollBar_onScroll:function(a){this.scrollContainer.scrollTop=a},buildRendering:function(){this.inherited(arguments);if(this.vScrollBar){this.scrollBar=new s({content:this.vScrollBarContent},this.vScrollBar);this.scrollBar.on("scroll",f.hitch(this,this._scrollBar_onScroll));this._viewHandles.push(t(this.scrollContainer,d("mozilla")?"DOMMouseScroll":"mousewheel",dojo.hitch(this,this._mouseWheelScrollHander)))}},postscript:function(){this.inherited(arguments);
this._initialized=true;this.invalidRendering||this.refreshRendering()},_setVerticalRendererAttr:function(a){this._destroyRenderersByKind("vertical");this._set("verticalRenderer",a)},_createRenderData:function(){var e={};e.daySize=this.get("daySize");e.scrollbarWidth=a.getScrollbar().w+1;e.dateLocaleModule=this.dateLocaleModule;e.dateClassObj=this.dateClassObj;e.dateFuncObj=this.dateFuncObj;e.dates=[];e.columnCount=this.get("columnCount");var b=this.get("startDate");b==null&&(b=new e.dateClassObj);
this.startDate=b=this.floorToMonth(b,false,e);for(var l=b.getMonth(),m=0,d=0;d<e.columnCount;d++){var c=[];for(e.dates.push(c);b.getMonth()==l;){c.push(b);b=e.dateFuncObj.add(b,"day",1);b=this.floorToDay(b,false,e)}l=b.getMonth();if(m<c.length)m=c.length}e.startTime=new e.dateClassObj(e.dates[0][0]);e.endTime=new e.dateClassObj(c[c.length-1]);e.endTime=e.dateFuncObj.add(e.endTime,"day",1);e.maxDayCount=m;e.sheetHeight=e.daySize*m;if(this.displayedItemsInvalidated){this.displayedItemsInvalidated=false;
this._computeVisibleItems(e);this._isEditing&&this._endItemEditing(null,false)}else if(this.renderData)e.items=this.renderData.items;return e},_validateProperties:function(){this.inherited(arguments);if(this.columnCount<1||isNaN(this.columnCount))this.columnCount=1;if(this.daySize<5||isNaN(this.daySize))this.daySize=5},_setStartDateAttr:function(a){this.displayedItemsInvalidated=true;this._set("startDate",a)},_setColumnCountAttr:function(a){this.displayedItemsInvalidated=true;this._set("columnCount",
a)},__fixEvt:function(a){a.sheet="primary";a.source=this;return a},_formatColumnHeaderLabel:function(a){var b="wide";if(this.columnHeaderFormatLength)b=this.columnHeaderFormatLength;return this.renderData.dateLocaleModule.getNames("months",b,"standAlone")[a.getMonth()]},_formatGridCellLabel:function(a){var b;if(a==null)return"";if(this.gridCellPattern)return this.renderData.dateLocaleModule.format(a,{selector:"date",datePattern:this.gridCellDatePattern});b=B.getLocalization("dojo.cldr",this._calendar)["dateFormatItem-d"];
return this.renderData.dateLocaleModule.getNames("days","abbr","standAlone")[a.getDay()].substring(0,1)+" "+this.renderData.dateLocaleModule.format(a,{selector:"date",datePattern:b})},scrollPosition:null,scrollBarRTLPosition:"left",_setScrollPositionAttr:function(a){this._setScrollPosition(a.date,a.duration,a.easing)},_getScrollPositionAttr:function(){return{date:this.scrollContainer.scrollTop/this.daySize+1}},_setScrollPosition:function(a,b,l){a<1?a=1:a>31&&(a=31);a=(a-1)*this.daySize;if(b){this._scrollAnimation&&
this._scrollAnimation.stop();b=Math.abs((a-this.scrollContainer.scrollTop)*b/this.renderData.sheetHeight);this._scrollAnimation=new j.Animation({curve:[this.scrollContainer.scrollTop,a],duration:b,easing:l,onAnimate:f.hitch(this,function(a){this._setScrollImpl(a)})});this._scrollAnimation.play()}else this._setScrollImpl(a)},_setScrollImpl:function(a){this.scrollContainer.scrollTop=a;this.scrollBar&&this.scrollBar.set("value",a)},ensureVisibility:function(a,b,l,m,d){m=m==void 0?1:m;if(this.scrollable&&
this.autoScroll){a=a.getDate()-m;this.isStartOfDay(b)&&(b=this._waDojoxAddIssue(b,"day",-1));var b=b.getDate()+m,m=this.get("scrollPosition").date,c=A.getContentBox(this.scrollContainer),c=this.get("scrollPosition").date+c.h/this.daySize,f=false,g=null;switch(l){case "start":f=a>=m&&a<=c;g=a;break;case "end":f=b>=m&&b<=c;g=b-(c-m);break;case "both":f=a>=m&&b<=c;g=a}f||this._setScrollPosition(g,d)}},scrollView:function(a){this._setScrollPosition(this.get("scrollPosition").date+a)},_mouseWheelScrollHander:function(a){a=
d("mozilla")?-a.detail:a.wheelDelta;this.scrollView(a>0?-1:1)},refreshRendering:function(){if(this._initialized){this._validateProperties();var a=this.renderData,b=this._createRenderData();this.renderData=b;this._createRendering(b,a);this._layoutRenderers(b)}},_createRendering:function(a,b){w.set(this.sheetContainer,"height",a.sheetHeight+"px");this._configureScrollBar(a);this._buildColumnHeader(a,b);this._buildGrid(a,b);this._buildItemContainer(a,b)},_configureScrollBar:function(a){d("ie")&&this.scrollBar&&
w.set(this.scrollBar.domNode,"width",a.scrollbarWidth+1+"px");var b=this.isLeftToRight()?true:this.scrollBarRTLPosition=="right";if(this.scrollBar){this.scrollBar.set("maximum",a.sheetHeight);w.set(this.scrollBar.domNode,b?"right":"left",0);w.set(this.scrollBar.domNode,b?"left":"right","auto")}w.set(this.scrollContainer,b?"right":"left",a.scrollbarWidth+"px");w.set(this.scrollContainer,b?"left":"right","0");w.set(this.columnHeader,b?"right":"left",a.scrollbarWidth+"px");w.set(this.columnHeader,b?
"left":"right","0");if(this.buttonContainer&&this.owner!=null&&this.owner.currentView==this){w.set(this.buttonContainer,b?"right":"left",a.scrollbarWidth+"px");w.set(this.buttonContainer,b?"left":"right","0")}},_columnHeaderClick:function(a){g.stop(a);var b=u("td",this.columnHeaderTable).indexOf(a.currentTarget);this._onColumnHeaderClick({index:b,date:this.renderData.dates[b][0],triggerEvent:a})},_buildColumnHeader:function(a,b){var l=this.columnHeaderTable;if(l){var m=a.columnCount-(b?b.columnCount:
0);if(d("ie")==8)if(this._colTableSave==null)this._colTableSave=f.clone(l);else if(m<0){this._cleanupColumnHeader();this.columnHeader.removeChild(l);v.destroy(l);this.columnHeaderTable=l=f.clone(this._colTableSave);this.columnHeader.appendChild(l);m=a.columnCount}var c=u("tbody",l),C=u("tr",l),z,c=c.length==1?c[0]:h.create("tbody",null,l),C=C.length==1?C[0]:v.create("tr",null,c);if(m>0)for(c=0;c<m;c++){z=v.create("td",null,C);var j=[];j.push(t(z,"click",f.hitch(this,this._columnHeaderClick)));if(d("touch")){j.push(t(z,
"touchstart",function(a){g.stop(a);q.add(a.currentTarget,"Active")}));j.push(t(z,"touchend",function(a){g.stop(a);q.remove(a.currentTarget,"Active")}))}else{j.push(t(z,"mousedown",function(a){g.stop(a);q.add(a.currentTarget,"Active")}));j.push(t(z,"mouseup",function(a){g.stop(a);q.remove(a.currentTarget,"Active")}));j.push(t(z,"mouseover",function(a){g.stop(a);q.add(a.currentTarget,"Hover")}));j.push(t(z,"mouseout",function(a){g.stop(a);q.remove(a.currentTarget,"Hover")}))}this._columnHeaderHandlers.push(j)}else{m=
-m;for(c=0;c<m;c++){z=C.lastChild;C.removeChild(z);v.destroy(z);for(z=this._columnHeaderHandlers.pop();z.length>0;)z.pop().remove()}}u("td",l).forEach(function(b,l){b.className="";l==0?q.add(b,"first-child"):l==this.renderData.columnCount-1&&q.add(b,"last-child");var m=a.dates[l][0];this._setText(b,this._formatColumnHeaderLabel(m));this.styleColumnHeaderCell(b,m,a)},this)}},_cleanupColumnHeader:function(){for(;this._columnHeaderHandlers.length>0;)for(var a=this._columnHeaderHandlers.pop();a.length>
0;)a.pop().remove()},styleColumnHeaderCell:function(){},_buildGrid:function(a,b){var l=this.gridTable;if(l){w.set(l,"height",a.sheetHeight+"px");var m=a.maxDayCount-(b?b.maxDayCount:0),c=m>0,g=a.columnCount-(b?b.columnCount:0);if(d("ie")==8)if(this._gridTableSave==null)this._gridTableSave=f.clone(l);else if(g<0){this.grid.removeChild(l);v.destroy(l);this.gridTable=l=f.clone(this._gridTableSave);this.grid.appendChild(l);g=a.columnCount;m=a.maxDayCount;c=true}var h=u("tbody",l),h=h.length==1?h[0]:v.create("tbody",
null,l);if(c)for(var j=0;j<m;j++)v.create("tr",null,h);else{m=-m;for(j=0;j<m;j++)h.removeChild(h.lastChild)}var k=a.maxDayCount-m,n=c||g>0,g=n?g:-g;u("tr",l).forEach(function(b,l){if(n)for(var m=l>=k?a.columnCount:g,l=0;l<m;l++){var c=v.create("td",null,b);v.create("span",null,c)}else for(l=0;l<g;l++)b.removeChild(b.lastChild)});u("tr",l).forEach(function(b,l){b.className="";l==0&&q.add(b,"first-child");l==a.maxDayCount-1&&q.add(b,"last-child");u("td",b).forEach(function(b,m){b.className="";m==0&&
q.add(b,"first-child");m==a.columnCount-1&&q.add(b,"last-child");var c=null;l<a.dates[m].length&&(c=a.dates[m][l]);this._setText(u("span",b)[0],this.showCellLabel?this._formatGridCellLabel(c,l,m):null);this.styleGridCell(b,c,m,l,a)},this)},this)}},styleGridCell:function(a,b){b!=null&&(this.isToday(b)?q.add(a,"dojoxCalendarToday"):this.isWeekEnd(b)&&q.add(a,"dojoxCalendarWeekend"))},_buildItemContainer:function(a,b){var l=this.itemContainerTable;if(l){var m=[];w.set(l,"height",a.sheetHeight+"px");
var c=a.columnCount-(b?b.columnCount:0);if(d("ie")==8)if(this._itemTableSave==null)this._itemTableSave=f.clone(l);else if(c<0){this.itemContainer.removeChild(l);this._recycleItemRenderers(true);v.destroy(l);this.itemContainerTable=l=f.clone(this._itemTableSave);this.itemContainer.appendChild(l);c=a.columnCount}var g=u("tbody",l),h=u("tr",l),g=g.length==1?g[0]:v.create("tbody",null,l),h=h.length==1?h[0]:v.create("tr",null,g);if(c>0)for(var j=0;j<c;j++){g=v.create("td",null,h);v.create("div",{className:"dojoxCalendarContainerColumn"},
g)}else{c=-c;for(j=0;j<c;j++)h.removeChild(h.lastChild)}u("td>div",l).forEach(function(b){w.set(b,{height:a.sheetHeight+"px",marginBottom:"-"+a.sheetHeight+"px"});m.push(b)},this);a.cells=m}},_overlapLayoutPass2:function(a){var b,l,m,c;m=a[a.length-1];for(l=0;l<m.length;l++)m[l].extent=1;for(b=0;b<a.length-1;b++){m=a[b];for(l=0;l<m.length;l++){c=m[l];if(c.extent==-1){c.extent=1;for(var d=0,f=false,g=b+1;g<a.length&&!f;g++){for(var h=a[g],j=0;j<h.length&&!f;j++){var k=h[j];c.start<k.end&&k.start<c.end&&
(f=true)}f||d++}c.extent=c.extent+d}}}},_defaultItemToRendererKindFunc:function(a){return a.allDay?"vertical":Math.abs(this.renderData.dateFuncObj.difference(a.startTime,a.endTime,"minute"))>=1440?"vertical":null},_layoutRenderers:function(a){this.hiddenEvents={};this.inherited(arguments)},_layoutInterval:function(a,b,l,m,c){var d=[],f=[];a.colW=this.itemContainer.offsetWidth/a.columnCount;for(var g=0;g<c.length;g++){var h=c[g];this._itemToRendererKind(h)=="vertical"?d.push(h):this.showHiddenItems&&
f.push(h)}d.length>0&&this._layoutVerticalItems(a,b,l,m,d);f.length>0&&this._layoutBgItems(a,b,l,m,f)},_dateToYCoordinate:function(a,b,l){a=0;a=l?(b.getDate()-1)*this.renderData.daySize:this.renderData.daySize+(this._waDojoxAddIssue(b,"day",-1).getDate()-1)*this.renderData.daySize;return a=a+(b.getHours()*60+b.getMinutes())*this.renderData.daySize/1440},_layoutVerticalItems:function(a,b,l,m,c){if(this.verticalRenderer!=null){for(var b=a.cells[b],d=[],g=0;g<c.length;g++){var h=c[g],j=this.computeRangeOverlap(a,
h.startTime,h.endTime,l,m),k=this._dateToYCoordinate(a,j[0],true),n=this._dateToYCoordinate(a,j[1],false);if(n>k){h=f.mixin({start:k,end:n,range:j,item:h},h);d.push(h)}}l=this.computeOverlapping(d,this._overlapLayoutPass2).numLanes;m=this.percentOverlap/100;for(g=0;g<d.length;g++){h=d[g];k=h.lane;j=h.extent;if(m==0){c=l==1?a.colW:(a.colW-(l-1)*this.horizontalGap)/l;k=k*(c+this.horizontalGap);c=j==1?c:c*j+(j-1)*this.horizontalGap;c=100*c/a.colW;k=100*k/a.colW}else{c=l==1?100:100/(l-(l-1)*m);k=k*(c-
m*c);c=j==1?c:c*(j-(j-1)*m)}j=this._createRenderer(h,"vertical",this.verticalRenderer,"dojoxCalendarVertical");w.set(j.container,{top:h.start+"px",left:k+"%",width:c+"%",height:h.end-h.start+1+"px"});var k=this.isItemBeingEdited(h),n=this.isItemSelected(h),o=this.isItemHovered(h),q=this.isItemFocused(h),t=j.renderer;t.set("hovered",o);t.set("selected",n);t.set("edited",k);t.set("focused",this.showFocus?q:false);t.set("moveEnabled",this.isItemMoveEnabled(h,"vertical"));t.set("resizeEnabled",this.isItemResizeEnabled(h,
"vertical"));this.applyRendererZIndex(h,j,o,n,k,q);t.updateRendering&&t.updateRendering(c,h.end-h.start+1);v.place(j.container,b);w.set(j.container,"display","block")}}},_getCellAt:function(a,b,l){if((l==void 0||l==true)&&!this.isLeftToRight())b=this.renderData.columnCount-1-b;return this.gridTable.childNodes[0].childNodes[a].childNodes[b]},invalidateLayout:function(){u("td",this.gridTable).forEach(function(a){q.remove(a,"dojoxCalendarHiddenEvents")});this.inherited(arguments)},_layoutBgItems:function(a,
b,l,m,c){for(var d={},f=0;f<c.length;f++){var g=c[f],h=this.computeRangeOverlap(a,g.startTime,g.endTime,l,m),g=h[0].getDate()-1;if(this.isStartOfDay(h[1])){h=this._waDojoxAddIssue(h[1],"day",-1);h=h.getDate()-1}else h=h[1].getDate()-1;for(;g<=h;g++)d[g]=true}for(var j in d)if(d[j]){a=this._getCellAt(j,b,false);q.add(a,"dojoxCalendarHiddenEvents")}},_sortItemsFunction:function(a,b){var l=this.dateFuncObj.compare(a.startTime,b.startTime);l==0&&(l=-1*this.dateFuncObj.compare(a.endTime,b.endTime));return this.isLeftToRight()?
l:-l},getTime:function(a,b,l,m){if(a!=null){l=A.position(this.itemContainer,true);if(a.touches){m=m==void 0?0:m;b=a.touches[m].pageX-l.x;l=a.touches[m].pageY-l.y}else{b=a.pageX-l.x;l=a.pageY-l.y}}a=A.getContentBox(this.itemContainer);this.isLeftToRight()||(b=a.w-b);b<0?b=0:b>a.w&&(b=a.w-1);l<0?l=0:l>a.h&&(l=a.h-1);b=Math.floor(b/(a.w/this.renderData.columnCount));l=Math.floor(l/(a.h/this.renderData.maxDayCount));a=null;b<this.renderData.dates.length&&l<this.renderData.dates[b].length&&(a=this.newDate(this.renderData.dates[b][l]));
return a},_onGridMouseUp:function(a){this.inherited(arguments);if(this._gridMouseDown){this._gridMouseDown=false;this._onGridClick({date:this.getTime(a),triggerEvent:a})}},_onGridTouchStart:function(a){this.inherited(arguments);var b=this._gridProps;b.moved=false;b.start=a.touches[0].screenY;b.scrollTop=this.scrollContainer.scrollTop},_onGridTouchMove:function(a){this.inherited(arguments);if(a.touches.length>1&&!this._isEditing)g.stop(a);else if(this._gridProps&&!this._isEditing){var b=a.touches[0].screenX,
l=a.touches[0].screenY,m=this._edProps;if(!m||m&&(Math.abs(b-m.start.x)>25||Math.abs(l-m.start.y)>25)){this._gridProps.moved=true;b=this._gridProps.scrollTop-(a.touches[0].screenY-this._gridProps.start);l=this.itemContainer.offsetHeight-this.scrollContainer.offsetHeight;if(b<0){this._gridProps.start=a.touches[0].screenY;this._setScrollImpl(0);this._gridProps.scrollTop=0}else if(b>l){this._gridProps.start=a.touches[0].screenY;this._setScrollImpl(l);this._gridProps.scrollTop=l}else this._setScrollImpl(b)}}},
_onGridTouchEnd:function(a){this.inherited(arguments);var b=this._gridProps;if(b){if(!this._isEditing&&!b.moved){!b.fromItem&&!b.editingOnStart&&this.selectFromEvent(a,null,null,true);if(!b.fromItem)if(this._pendingDoubleTap&&this._pendingDoubleTap.grid){this._onGridDoubleClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event});clearTimeout(this._pendingDoubleTap.timer);delete this._pendingDoubleTap}else{this._onGridClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event});
this._pendingDoubleTap={grid:true,timer:setTimeout(f.hitch(this,function(){delete this._pendingDoubleTap}),this.doubleTapDelay)}}}this._gridProps=null}},_onColumnHeaderClick:function(a){this._dispatchCalendarEvt(a,"onColumnHeaderClick")},onColumnHeaderClick:function(){},_onScrollTimer_tick:function(){this._setScrollImpl(this.scrollContainer.scrollTop+this._scrollProps.scrollStep)},snapUnit:"day",snapSteps:1,minDurationUnit:"day",minDurationSteps:1,liveLayout:false,stayInView:true,allowStartEndSwap:true,
allowResizeLessThan24H:false})})},"dojox/calendar/_RendererMixin":function(){define("dojox/calendar/_RendererMixin",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-class","dojo/Stateful"],function(r,n,s,o,k){return r("dojox.calendar._RendererMixin",k,{item:null,owner:null,edited:!1,focused:!1,hovered:!1,selected:!1,moveEnabled:!0,resizeEnabled:!0,_orientation:"vertical",_displayValue:"block",_displayValueMap:{},visibilityLimits:{resizeStartHandle:50,resizeEndHandle:-1,summaryLabel:15,
startTimeLabel:45,endTimeLabel:50},_setSelectedAttr:function(g){this._setState("selected",g,"Selected")},_setFocusedAttr:function(g){this._setState("focused",g,"Focused")},_setEditedAttr:function(g){this._setState("edited",g,"Edited")},_setHoveredAttr:function(g){this._setState("hovered",g,"Hovered")},_setState:function(g,f,c){this[g]!=f&&(o[f?"add":"remove"](this.stateNode||this.domNode,c),this._set(g,f))},_setItemAttr:function(g){null==g?(this.item&&this.item.cssClass&&o.remove(this.domNode,this.item.cssClass),
this.item=null):(null!=this.item?(this.item.cssClass!=g.cssClass&&this.item.cssClass&&o.remove(this.domNode,this.item.cssClass),this.item=n.mixin(this.item,g)):this.item=g,g.cssClass&&o.add(this.domNode,g.cssClass))},_setText:function(g,f,c){this.owner&&this.owner._setText(g,f,c)},_isElementVisible:function(g,f,c,d){var j,h=this.visibilityLimits[g];switch(g){case "moveHandle":j=this.moveEnabled;break;case "resizeStartHandle":j=this.mobile?this.resizeEnabled&&!f&&this.edited&&(-1==h||d>h):this.resizeEnabled&&
!f&&(-1==h||d>h);break;case "resizeEndHandle":j=this.mobile?this.resizeEnabled&&!c&&this.edited&&(-1==h||d>h):this.resizeEnabled&&!c&&(-1==h||d>h);break;case "startTimeLabel":j=this.mobile?!f&&(!this.edited||this.edited&&(-1==h||d>h)):!f&&(-1==h||d>h);break;case "endTimeLabel":j=this.edited&&!c&&(-1==h||d>h);break;case "summaryLabel":j=this.mobile?!this.edited||this.edited&&(-1==h||d>h):-1==h||d>h}return j},_formatTime:function(g,f){return this.owner&&null!=this.owner.get("formatItemTimeFunc")?this.owner.formatItemTimeFunc(f,
g):g.dateLocaleModule.format(f,{selector:"time"})},getDisplayValue:function(){return this._displayValue},updateRendering:function(g,f){f=f||this.item.h;g=g||this.item.w;if(f||g){this.item.h=f;this.item.w=g;var c="vertical"==this._orientation?f:g,d=this.owner.renderData,j=0!=d.dateFuncObj.compare(this.item.range[0],this.item.startTime),h=0!=d.dateFuncObj.compare(this.item.range[1],this.item.endTime),k;null!=this.beforeIcon&&(k="horizontal"!=this._orientation||this.isLeftToRight()?j:h,s.set(this.beforeIcon,
"display",k?this.getDisplayValue("beforeIcon"):"none"));null!=this.afterIcon&&(k="horizontal"!=this._orientation||this.isLeftToRight()?h:j,s.set(this.afterIcon,"display",k?this.getDisplayValue("afterIcon"):"none"));this.moveHandle&&(k=this._isElementVisible("moveHandle",j,h,c),s.set(this.moveHandle,"display",k?this.getDisplayValue("moveHandle"):"none"));this.resizeStartHandle&&(k=this._isElementVisible("resizeStartHandle",j,h,c),s.set(this.resizeStartHandle,"display",k?this.getDisplayValue("resizeStartHandle"):
"none"));this.resizeEndHandle&&(k=this._isElementVisible("resizeEndHandle",j,h,c),s.set(this.resizeEndHandle,"display",k?this.getDisplayValue("resizeEndHandle"):"none"));this.startTimeLabel&&(k=this._isElementVisible("startTimeLabel",j,h,c),s.set(this.startTimeLabel,"display",k?this.getDisplayValue("startTimeLabel"):"none"),k&&this._setText(this.startTimeLabel,this._formatTime(d,this.item.startTime)));this.endTimeLabel&&(k=this._isElementVisible("endTimeLabel",j,h,c),s.set(this.endTimeLabel,"display",
k?this.getDisplayValue("endTimeLabel"):"none"),k&&this._setText(this.endTimeLabel,this._formatTime(d,this.item.endTime)));this.summaryLabel&&(k=this._isElementVisible("summaryLabel",j,h,c),s.set(this.summaryLabel,"display",k?this.getDisplayValue("summaryLabel"):"none"),k&&this._setText(this.summaryLabel,this.item.summary,!0))}}})})},"dojox/calendar/MobileVerticalRenderer":function(){require({cache:{"url:dojox/calendar/templates/MobileVerticalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarVertical">\n\t<div class="bg"></div>\t\n\t<div data-dojo-attach-point="resizeStartHandle" class="resizeStartHandle resizeHandle"><div></div></div>\n\t<dl style="width:100%;">\t\t\t\t\n\t\t<dd data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25b2</dd>\n\t\t<dd data-dojo-attach-point="startTimeLabel" class="startTime"></dd>\n\t\t<dd data-dojo-attach-point="summaryLabel" class="summary"></dd>\n\t</dl>\n\t<span data-dojo-attach-point="afterIcon" class="afterIcon">\u25bc</span>\t\n\t<div data-dojo-attach-point="resizeEndHandle" class="resizeEndHandle resizeHandle"><div></div></div>\n\t<span data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n</div>'}});
define("dojox/calendar/MobileVerticalRenderer",["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojox/calendar/_RendererMixin","dojo/text!./templates/MobileVerticalRenderer.html"],function(r,n,s,o,k){return r("dojox.calendar.MobileVerticalRenderer",[n,s,o],{templateString:k,mobile:!0,visibilityLimits:{resizeStartHandle:75,resizeEndHandle:-1,summaryLabel:55,startTimeLabel:75,endTimeLabel:20},postCreate:function(){this.inherited(arguments);this._applyAttributes()},_isElementVisible:function(g,
f,c,d){var j;switch(g){case "startTimeLabel":j=this.item.startTime;if(this.item.allDay||this.owner.isStartOfDay(j))return!1;break;case "endTimeLabel":if(j=this.item.endTime,this.item.allDay||this.owner.isStartOfDay(j))return!1}return this.inherited(arguments)}})})},"url:dojox/calendar/templates/Calendar.html":'<div>\n\t<div data-dojo-attach-point="buttonContainer" class="buttonContainer">\n\t\t<div data-dojo-attach-point="toolbar" data-dojo-type="dijit.Toolbar" >\n\t\t\t<button data-dojo-attach-point="previousButton" data-dojo-type="dijit.form.Button" >\u25c4</button>\n\t\t\t<button data-dojo-attach-point="nextButton" data-dojo-type="dijit.form.Button" >\u25ba</button>\n\t\t\t<span data-dojo-type="dijit.ToolbarSeparator"></span>\n\t\t\t<button data-dojo-attach-point="todayButton" data-dojo-type="dijit.form.Button" />Today</button>\n\t\t\t<span data-dojo-type="dijit.ToolbarSeparator"></span>\n\t\t\t<button data-dojo-attach-point="dayButton" data-dojo-type="dijit.form.Button" >Day</button>\n\t\t\t<button data-dojo-attach-point="fourDaysButton" data-dojo-type="dijit.form.Button" >4 Days</button>\n\t\t\t<button data-dojo-attach-point="weekButton" data-dojo-type="dijit.form.Button" >Week</button>\t\t\t\n\t\t\t<button data-dojo-attach-point="monthButton" data-dojo-type="dijit.form.Button" >Month</button>\n\t\t</div>\n\t</div>\n\t<div data-dojo-attach-point="viewContainer" class="viewContainer"></div>\n</div>',
"dojox/calendar/MobileHorizontalRenderer":function(){require({cache:{"url:dojox/calendar/templates/MobileHorizontalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarHorizontal" onselectstart="return false;">\n\t<div class="bg" ></div>\n\t<div style="position:absolute;left:2px;bottom:2px"><span data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25c4</span></div>\t\n\t<div data-dojo-attach-point="labelContainer" class="labels">\t\t\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span  data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\n\t<div style="position:absolute;right:2px;bottom:2px"><span data-dojo-attach-point="afterIcon" class="afterIcon">\u25ba</span></div>\n\t<div data-dojo-attach-point="moveHandle" class="moveHandle" ></div>\t\n\t<div data-dojo-attach-point="resizeStartHandle" class="resizeHandle resizeStartHandle"><div></div></div>\t\n\t<div data-dojo-attach-point="resizeEndHandle" class="resizeHandle resizeEndHandle"><div></div></div>\t\n</div>'}});
define("dojox/calendar/MobileHorizontalRenderer","dojo/_base/declare dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dojox/calendar/_RendererMixin dojo/text!./templates/MobileHorizontalRenderer.html".split(" "),function(r,n,s,o,k,g){return r("dojox.calendar.MobileHorizontalRenderer",[s,o,k],{templateString:g,_orientation:"horizontal",mobile:true,visibilityLimits:{resizeStartHandle:50,resizeEndHandle:-1,summaryLabel:15,startTimeLabel:32,endTimeLabel:30},_displayValue:"inline",arrowPadding:12,
_isElementVisible:function(f,c,d,g){var h;h=this.isLeftToRight();if(f=="startTimeLabel"){this.labelContainer&&(h&&d||!h&&c)?n.set(this.labelContainer,"marginRight",this.arrowPadding+"px"):n.set(this.labelContainer,"marginRight",0);this.labelContainer&&(!h&&d||h&&c)?n.set(this.labelContainer,"marginLeft",this.arrowPadding+"px"):n.set(this.labelContainer,"marginLeft",0)}switch(f){case "startTimeLabel":h=this.item.startTime;if(this.item.allDay||this.owner.isStartOfDay(h))return false;break;case "endTimeLabel":h=
this.item.endTime;if(this.item.allDay||this.owner.isStartOfDay(h))return false}return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._applyAttributes()}})})},"dojox/calendar/CalendarBase":function(){define("dojox/calendar/CalendarBase","dojo/_base/declare dojo/_base/sniff dojo/_base/event dojo/_base/lang dojo/_base/array dojo/cldr/supplemental dojo/dom dojo/dom-class dojo/dom-style dojo/dom-construct dojo/date dojo/date/locale dojo/_base/fx dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./StoreMixin dojox/widget/_Invalidating dojox/widget/Selection dojox/calendar/time dojo/i18n!./nls/buttons".split(" "),
function(r,n,s,o,k,g,f,c,d,j,h,t,y,q,w,A,v,u,B,a,e,b){return r("dojox.calendar.CalendarBase",[w,A,v,u,B,a],{baseClass:"dojoxCalendar",datePackage:h,startDate:null,endDate:null,date:null,dateInterval:"week",dateIntervalSteps:1,viewContainer:null,firstDayOfWeek:-1,formatItemTimeFunc:null,editable:true,moveEnabled:true,resizeEnabled:true,columnView:null,matrixView:null,columnViewProps:null,matrixViewProps:null,_currentViewIndex:-1,views:null,_calendar:"gregorian",constructor:function(a){this.views=[];
this.invalidatingProperties=["store","items","startDate","endDate","views","date","dateInterval","dateIntervalSteps","firstDayOfWeek"];a=a||{};this._calendar=a.datePackage?a.datePackage.substr(a.datePackage.lastIndexOf(".")+1):this._calendar;this.datePackage=a.datePackage||this.datePackage;this.dateFuncObj=typeof this.datePackage=="string"?o.getObject(this.datePackage,false):this.datePackage;this.dateClassObj=this.dateFuncObj.Date||Date;this.dateLocaleModule=o.getObject("locale",false,this.dateFuncObj);
this.invalidateRendering()},destroy:function(a){k.forEach(this._buttonHandles,function(a){a.remove()});this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);(this.views==null||this.views.length==0)&&this.set("views",this._createDefaultViews())},_applyAttributes:function(){this._applyAttr=true;this.inherited(arguments);delete this._applyAttr},_setStartDateAttr:function(a){this._set("startDate",a);this._timeRangeInvalidated=true},_setEndDateAttr:function(a){this._set("endDate",
a);this._timeRangeInvalidated=true},_setDateAttr:function(a){this._set("date",a);this._timeRangeInvalidated=true},_setDateIntervalAttr:function(a){this._set("dateInterval",a);this._timeRangeInvalidated=true},_setDateIntervalStepsAttr:function(a){this._set("dateIntervalSteps",a);this._timeRangeInvalidated=true},_setFirstDayOfWeekAttr:function(a){this._set("firstDayOfWeek",a);if(this.get("date")!=null&&this.get("dateInterval")=="week")this._timeRangeInvalidated=true},_setTextDirAttr:function(a){k.forEach(this.views,
function(b){b.set("textDir",a)})},refreshRendering:function(){this.inherited(arguments);this._validateProperties()},_refreshItemsRendering:function(){this.currentView&&this.currentView._refreshItemsRendering()},_validateProperties:function(){var a=this.dateFuncObj,b=this.get("startDate"),e=this.get("endDate"),c=this.get("date");(this.firstDayOfWeek<-1||this.firstDayOfWeek>6)&&this._set("firstDayOfWeek",0);if(c==null&&(b!=null||e!=null)){if(b==null){b=new this.dateClassObj;this._set("startDate",b);
this._timeRangeInvalidated=true}if(e==null){e=new this.dateClassObj;this._set("endDate",e);this._timeRangeInvalidated=true}if(a.compare(b,e)>=0){e=a.add(b,"day",1);this._set("endDate",e);this._timeRangeInvalidated=true}}else{if(this.date==null){this._set("date",new this.dateClassObj);this._timeRangeInvalidated=true}b=this.get("dateInterval");if(b!="day"&&b!="week"&&b!="month"){this._set("dateInterval","day");this._timeRangeInvalidated=true}b=this.get("dateIntervalSteps");if(o.isString(b)){b=parseInt(b);
this._set("dateIntervalSteps",b)}if(b<=0){this.set("dateIntervalSteps",1);this._timeRangeInvalidated=true}}if(this._timeRangeInvalidated){this._timeRangeInvalidated=false;b=this.computeTimeInterval();if(this._timeInterval==null||a.compare(this._timeInterval[0],b[0]!=0)||a.compare(this._timeInterval[1],b[1]!=0))this.onTimeIntervalChange({oldStartTime:this._timeInterval==null?null:this._timeInterval[0],oldEndTime:this._timeInterval==null?null:this._timeInterval[1],startTime:b[0],endTime:b[1]});this._timeInterval=
b;a=this.dateFuncObj.difference(this._timeInterval[0],this._timeInterval[1],"day");e=this._computeCurrentView(b[0],b[1],a);c=k.indexOf(this.views,e);if(!(e==null||c==-1)){this._configureView(e,c,b,a);if(c!=this._currentViewIndex)if(this.currentView==null){e.set("items",this.items);this.set("currentView",e)}else if(this.items==null||this.items.length==0){this.set("currentView",e);e.set("items",this.items)}else{this.currentView=e;e.set("items",this.items);this.set("currentView",e)}}}},_timeInterval:null,
computeTimeInterval:function(){var a=this.dateFuncObj,b=this.get("date");if(b==null)return[this.floorToDay(this.get("startDate")),a.add(this.get("endDate"),"day",1)];var b=this.floorToDay(b),e=this.get("dateInterval"),c=this.get("dateIntervalSteps"),d;switch(e){case "day":d=a.add(b,"day",c);break;case "week":b=this.floorToWeek(b);d=a.add(b,"week",c);break;case "month":b.setDate(1);d=a.add(b,"month",c)}return[b,d]},onTimeIntervalChange:function(){},views:null,_setViewsAttr:function(a){if(!this._applyAttr)for(var b=
0;b<this.views.length;b++)this._onViewRemoved(this.views[b]);if(a!=null)for(b=0;b<a.length;b++)this._onViewAdded(a[b]);this._set("views",a==null?[]:a.concat())},_getViewsAttr:function(){return this.views.concat()},_createDefaultViews:function(){},addView:function(a,b){if(b<=0||b>this.views.length)b=this.views.length;this.views.splice(b,a);this._onViewAdded(a)},removeView:function(){if(!(index<0||index>=this.views.length)){this._onViewRemoved(this.views[index]);this.views.splice(index,1)}},_onViewAdded:function(a){a.owner=
this;a.buttonContainer=this.buttonContainer;a._calendar=this._calendar;a.datePackage=this.datePackage;a.dateFuncObj=this.dateFuncObj;a.dateClassObj=this.dateClassObj;a.dateLocaleModule=this.dateLocaleModule;d.set(a.domNode,"display","none");c.add(a.domNode,"view");j.place(a.domNode,this.viewContainer);this.onViewAdded(a)},onViewAdded:function(){},_onViewRemoved:function(a){a.owner=null;a.buttonContainer=null;c.remove(a.domNode,"view");this.viewContainer.removeChild(a.domNode);this.onViewRemoved(a)},
onViewRemoved:function(){},_setCurrentViewAttr:function(a){var b=k.indexOf(this.views,a);if(b!=-1){var e=this.get("currentView");this._currentViewIndex=b;this._set("currentView",a);this._showView(e,a);this.onCurrentViewChange({oldView:e,newView:a})}},_getCurrentViewAttr:function(){return this.views[this._currentViewIndex]},onCurrentViewChange:function(){},_configureView:function(a,b,e,c){b=this.dateFuncObj;if(a.viewKind=="columns"){a.set("startDate",e[0]);a.set("columnCount",c)}else if(a.viewKind==
"matrix")if(c>7){var d=this.floorToWeek(e[0]),c=this.floorToWeek(e[1]);b.compare(c,e[1])!=0&&(c=this.dateFuncObj.add(c,"week",1));c=this.dateFuncObj.difference(d,c,"day");a.set("startDate",d);a.set("columnCount",7);a.set("rowCount",Math.ceil(c/7));a.set("refStartTime",e[0]);a.set("refEndTime",e[1])}else{a.set("startDate",e[0]);a.set("columnCount",c);a.set("rowCount",1);a.set("refStartTime",null);a.set("refEndTime",null)}},_computeCurrentView:function(a,b,e){return e<=7?this.columnView:this.matrixView},
matrixViewRowHeaderClick:function(a){var b=this.matrixView.getExpandedRowIndex();if(b==a.index)this.matrixView.collapseRow();else if(b==-1)this.matrixView.expandRow(a.index);else{var e=this.matrixView.on("expandAnimationEnd",o.hitch(this,function(){e.remove();this.matrixView.expandRow(a.index)}));this.matrixView.collapseRow()}},columnViewColumnHeaderClick:function(a){if(this.dateFuncObj.compare(a.date,this._timeInterval[0])==0&&this.dateInterval=="day"&&this.dateIntervalSteps==1)this.set("dateInterval",
"week");else{this.set("date",a.date);this.set("dateInterval","day");this.set("dateIntervalSteps",1)}},viewChangeDuration:0,_showView:function(a,b){a!=null&&(this.viewChangeDuration<=0?d.set(a.domNode,"display","none"):y.fadeOut({node:a.domNode,curve:[0,1],onEnd:function(){d.set(a.domNode,"display","none")}}).play(this.viewChangeDuration));if(b!=null){d.set(b.domNode,"display","block");b.resize();a!=null&&this.viewChangeDuration>0?y.fadeIn({node:b.domNode,curve:[0,1]}).play(this.viewChangeDuration):
(!n("ie")||n("ie")!=7)&&d.set(b.domNode,"opacity","1")}},_setItemsAttr:function(a){this._set("items",a);if(this.currentView){this.currentView.set("items",a);this.currentView.invalidateRendering()}},floorToDay:function(a,b){return e.floorToDay(a,b,this.dateClassObj)},floorToWeek:function(a){return e.floorToWeek(a,this.dateClassObj,this.dateFuncObj,this.firstDayOfWeek,this.locale)},newDate:function(a){return e.newDate(a,this.dateClassObj)},isToday:function(a){return e.isToday(a,this.dateClassObj)},
isStartOfDay:function(a){return e.isStartOfDay(a,this.dateClassObj,this.dateFuncObj)},floorDate:function(a,b,c,d){return e.floor(a,b,c,d,this.classFuncObj)},nextRange:function(){this._navigate(1)},previousRange:function(){this._navigate(-1)},_navigate:function(a){var b=this.get("date"),e=this.dateFuncObj;if(b==null){var b=this.get("startDate"),c=this.get("endDate"),d=e.difference(b,c,"day");if(a==1){c=e.add(c,"day",1);this.set("startDate",c);this.set("endDate",e.add(c,"day",d))}else{b=e.add(b,"day",
-1);this.set("startDate",e.add(b,"day",-d));this.set("endDate",b)}}else{c=this.get("dateInterval");d=this.get("dateIntervalSteps");this.set("date",e.add(b,c,a*d))}},goToday:function(){this.set("date",this.floorToDay(new this.dateClassObj,true));this.set("dateInterval","day");this.set("dateIntervalSteps",1)},postCreate:function(){this.inherited(arguments);this.configureButtons()},configureButtons:function(){var a=[],e=!this.isLeftToRight();if(this.previousButton){this.previousButton.set("label",b[e?
"nextButton":"previousButton"]);a.push(q(this.previousButton,"click",o.hitch(this,e?this.nextRange:this.previousRange)))}if(this.nextButton){this.nextButton.set("label",b[e?"previousButton":"nextButton"]);a.push(q(this.nextButton,"click",o.hitch(this,e?this.previousRange:this.nextRange)))}if(e&&this.previousButton&&this.nextButton){e=this.previousButton;this.previousButton=this.nextButton;this.nextButton=e}if(this.todayButton){this.todayButton.set("label",b.todayButton);a.push(q(this.todayButton,
"click",o.hitch(this,this.todayButtonClick)))}if(this.dayButton){this.dayButton.set("label",b.dayButton);a.push(q(this.dayButton,"click",o.hitch(this,this.dayButtonClick)))}if(this.weekButton){this.weekButton.set("label",b.weekButton);a.push(q(this.weekButton,"click",o.hitch(this,this.weekButtonClick)))}if(this.fourDaysButton){this.fourDaysButton.set("label",b.fourDaysButton);a.push(q(this.fourDaysButton,"click",o.hitch(this,this.fourDaysButtonClick)))}if(this.monthButton){this.monthButton.set("label",
b.monthButton);a.push(q(this.monthButton,"click",o.hitch(this,this.monthButtonClick)))}this._buttonHandles=a},todayButtonClick:function(){this.goToday()},dayButtonClick:function(){this.get("date")==null&&this.set("date",this.floorToDay(new this.dateClassObj,true));this.set("dateInterval","day");this.set("dateIntervalSteps",1)},weekButtonClick:function(){this.set("dateInterval","week");this.set("dateIntervalSteps",1)},fourDaysButtonClick:function(){this.set("dateInterval","day");this.set("dateIntervalSteps",
4)},monthButtonClick:function(){this.set("dateInterval","month");this.set("dateIntervalSteps",1)},updateRenderers:function(a,b){this.currentView&&this.currentView.updateRenderers(a,b)},getIdentity:function(a){return a?a.id:null},_setHoveredItem:function(a,b){if(this.hoveredItem&&a&&this.hoveredItem.id!=a.id||a==null||this.hoveredItem==null){var e=this.hoveredItem;this.hoveredItem=a;this.updateRenderers([e,this.hoveredItem],true);a&&b&&this.currentView._updateEditingCapabilities(a,b)}},hoveredItem:null,
isItemHovered:function(a){return this.hoveredItem!=null&&this.hoveredItem.id==a.id},isItemEditable:function(){return this.editable},isItemMoveEnabled:function(){return this.isItemEditable()&&this.moveEnabled},isItemResizeEnabled:function(){return this.isItemEditable()&&this.resizeEnabled},onGridClick:function(){},onGridDoubleClick:function(){},onItemClick:function(){},onItemDoubleClick:function(){},onItemEditBegin:function(){},onItemEditEnd:function(){},onItemEditBeginGesture:function(){},onItemEditMoveGesture:function(){},
onItemEditResizeGesture:function(){},onItemEditEndGesture:function(){},onItemRollOver:function(){},onItemRollOut:function(){},onColumnHeaderClick:function(){},onRowHeaderClick:function(){},onRendererCreated:function(){},onRendererRecycled:function(){},onRendererReused:function(){},onRendererDestroyed:function(){},onRenderersLayoutDone:function(){}})})},"url:dojox/calendar/templates/ColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t\n\t<div data-dojo-attach-point="header" class="dojoxCalendarHeader">\n\t\t<div class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t\t<table cellspacing="0" cellpadding="0"><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t\t</div>\n\t\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t</div>\n\t</div>\n\t\n\t<div data-dojo-attach-point="secondarySheetNode"></div>\n\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\n\t\t\t<div data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\n\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative;width:1px;height:1px;" ></div>\n\t</div>\n\t\n</div>\n',
"url:dojox/calendar/templates/MobileCalendar.html":'<div>\n\t<div data-dojo-attach-point="viewContainer" class="viewContainer"></div>\n\t<div data-dojo-attach-point="buttonContainer" class="buttonContainer">\n\t\t\t<button data-dojo-attach-point="previousButton" data-dojo-type="dojox.mobile.Button" >\u25c4</button>\n\t\t\t<button data-dojo-attach-point="todayButton" data-dojo-type="dojox.mobile.Button" />Today</button>\n\t\t\t<button data-dojo-attach-point="dayButton" data-dojo-type="dojox.mobile.Button" >Day</button>\n\t\t\t<button data-dojo-attach-point="weekButton" data-dojo-type="dojox.mobile.Button" >Week</button>\t\t\t\n\t\t\t<button data-dojo-attach-point="monthButton" data-dojo-type="dojox.mobile.Button" >Month</button>\n\t\t<button data-dojo-attach-point="nextButton" data-dojo-type="dojox.mobile.Button" >\u25ba</button>\n\t</div>\n</div>',
"dojox/calendar/MatrixView":function(){require({cache:{"url:dojox/calendar/templates/MatrixView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t<div  class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t<table><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t</div>\t\n\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\t\n\t<div dojoAttachPoint="rowHeader" class="dojoxCalendarRowHeader">\n\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div dojoAttachPoint="grid" class="dojoxCalendarGrid">\n\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t</div>\t\n</div>\n'}});
define("dojox/calendar/MatrixView","dojo/_base/declare dojo/_base/array dojo/_base/event dojo/_base/lang dojo/_base/sniff dojo/_base/fx dojo/_base/html dojo/on dojo/dom dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/dom-construct dojo/query dojox/html/metrics dojo/i18n ./ViewBase dojo/text!./templates/MatrixView.html dijit/_TemplatedMixin".split(" "),function(r,n,s,o,k,g,f,c,d,j,h,t,y,q,w,A,v,u,B){return r("dojox.calendar.MatrixView",[v,B],{templateString:u,baseClass:"dojoxCalendarMatrixView",
_setTabIndexAttr:"domNode",viewKind:"matrix",renderData:null,startDate:null,refStartTime:null,refEndTime:null,columnCount:7,rowCount:5,horizontalRenderer:null,labelRenderer:null,expandRenderer:null,percentOverlap:0,verticalGap:2,horizontalRendererHeight:17,labelRendererHeight:14,expandRendererHeight:15,cellPaddingTop:16,expandDuration:300,expandEasing:null,layoutDuringResize:false,roundToDay:true,showCellLabel:true,scrollable:false,resizeCursor:"e-resize",constructor:function(){this.invalidatingProperties=
["columnCount","rowCount","startDate","horizontalRenderer","labelRenderer","expandRenderer","rowHeaderDatePattern","columnHeaderLabelLength","cellHeaderShortPattern","cellHeaderLongPattern","percentOverlap","verticalGap","horizontalRendererHeight","labelRendererHeight","expandRendererHeight","cellPaddingTop","roundToDay","itemToRendererKindFunc","layoutPriorityFunction","formatItemTimeFunc","textDir","items"];this._ddRendererList=[];this._ddRendererPool=[];this._rowHeaderHandles=[];this._viewHandles.push(c(window,
"resize",o.hitch(this,this._resizeHander)))},destroy:function(a){this._cleanupRowHeader();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initialized=true;this.invalidRendering||this.refreshRendering()},_createRenderData:function(){var a={};a.dateLocaleModule=this.dateLocaleModule;a.dateClassObj=this.dateClassObj;a.dateFuncObj=this.dateFuncObj;a.dates=[];a.columnCount=this.get("columnCount");a.rowCount=this.get("rowCount");a.sheetHeight=this.itemContainer.offsetHeight;
this._computeRowsHeight(a);var e=this.get("startDate");e==null&&(e=new a.dateClassObj);this.startDate=e=this.floorToDay(e,false,a);for(var b=0;b<a.rowCount;b++){a.dates.push([]);for(var c=0;c<a.columnCount;c++){a.dates[b].push(e);e=a.dateFuncObj.add(e,"day",1);e=this.floorToDay(e,false,a)}}a.startTime=this.newDate(a.dates[0][0],a);a.endTime=this.newDate(a.dates[a.rowCount-1][a.columnCount-1],a);a.endTime=a.dateFuncObj.add(a.endTime,"day",1);a.endTime=this.floorToDay(a.endTime,true);if(this.displayedItemsInvalidated){this.displayedItemsInvalidated=
false;this._computeVisibleItems(a);this._isEditing&&this._endItemEditing(null,false)}else if(this.renderData)a.items=this.renderData.items;a.rtl=!this.isLeftToRight();return a},_validateProperties:function(){this.inherited(arguments);if(this.columnCount<1||isNaN(this.columnCount))this.columnCount=1;if(this.rowCount<1||isNaN(this.rowCount))this.rowCount=1;if(isNaN(this.percentOverlap)||this.percentOverlap<0||this.percentOverlap>100)this.percentOverlap=0;if(isNaN(this.verticalGap)||this.verticalGap<
0)this.verticalGap=2;if(isNaN(this.horizontalRendererHeight)||this.horizontalRendererHeight<1)this.horizontalRendererHeight=17;if(isNaN(this.labelRendererHeight)||this.labelRendererHeight<1)this.labelRendererHeight=14;if(isNaN(this.expandRendererHeight)||this.expandRendererHeight<1)this.expandRendererHeight=15},_setStartDateAttr:function(a){this.displayedItemsInvalidated=true;this._set("startDate",a)},_setColumnCountAttr:function(a){this.displayedItemsInvalidated=true;this._set("columnCount",a)},
_setRowCountAttr:function(a){this.displayedItemsInvalidated=true;this._set("rowCount",a)},__fixEvt:function(a){a.sheet="primary";a.source=this;return a},_formatRowHeaderLabel:function(a){return this.rowHeaderDatePattern?this.renderData.dateLocaleModule.format(a,{selector:"date",datePattern:this.rowHeaderDatePattern}):this.getWeekNumberLabel(a)},_formatColumnHeaderLabel:function(a){return this.renderData.dateLocaleModule.getNames("days",this.columnHeaderLabelLength?this.columnHeaderLabelLength:"wide",
"standAlone")[a.getDay()]},_formatGridCellLabel:function(a,e,b){if(e==0&&b==0||a.getDate()==1)if(this.cellHeaderLongPattern)e=this.cellHeaderLongPattern;else{e=A.getLocalization("dojo.cldr",this._calendar);e=e["dateFormatItem-MMMd"]}else if(this.cellHeaderShortPattern)e=this.cellHeaderShortPattern;else{e=A.getLocalization("dojo.cldr",this._calendar);e=e["dateFormatItem-d"]}return this.renderData.dateLocaleModule.format(a,{selector:"date",datePattern:e})},refreshRendering:function(){this.inherited(arguments);
if(this.domNode){this._validateProperties();var a=this.renderData;this.renderData=this._createRenderData();this._createRendering(this.renderData,a);this._layoutRenderers(this.renderData)}},_createRendering:function(a,e){if(a.rowHeight<=0){a.columnCount=0;a.rowCount=0}else{this._buildColumnHeader(a,e);this._buildRowHeader(a,e);this._buildGrid(a,e);this._buildItemContainer(a,e);this.buttonContainer&&(this.owner!=null&&this.owner.currentView==this)&&h.set(this.buttonContainer,{right:0,left:0})}},_buildColumnHeader:function(a,
e){var b=this.columnHeaderTable;if(b){var c=a.columnCount-(e?e.columnCount:0);if(k("ie")==8)if(this._colTableSave==null)this._colTableSave=o.clone(b);else if(c<0){this.columnHeader.removeChild(b);y.destroy(b);this.columnHeaderTable=b=o.clone(this._colTableSave);this.columnHeader.appendChild(b);c=a.columnCount}var m=q("tbody",b),d=q("tr",b),m=m.length==1?m[0]:f.create("tbody",null,b),d=d.length==1?d[0]:y.create("tr",null,m);if(c>0)for(m=0;m<c;m++)y.create("td",null,d);else{c=-c;for(m=0;m<c;m++)d.removeChild(d.lastChild)}q("td",
b).forEach(function(b,e){b.className="";var c=a.dates[0][e];this._setText(b,this._formatColumnHeaderLabel(c));e==0?j.add(b,"first-child"):e==this.renderData.columnCount-1&&j.add(b,"last-child");this.styleColumnHeaderCell(b,c,a)},this);this.yearColumnHeaderContent&&this._setText(this.yearColumnHeaderContent,a.dateLocaleModule.format(a.dates[0][0],{selector:"date",datePattern:"yyyy"}))}},styleColumnHeaderCell:function(a,e){if(this.isWeekEnd(e))return j.add(a,"dojoxCalendarWeekend")},_rowHeaderHandles:null,
_cleanupRowHeader:function(){for(;this._rowHeaderHandles.length>0;)for(var a=this._rowHeaderHandles.pop();a.length>0;)a.pop().remove()},_rowHeaderClick:function(a){var e=q("td",this.rowHeaderTable).indexOf(a.currentTarget);this._onRowHeaderClick({index:e,date:this.renderData.dates[e][0],triggerEvent:a})},_buildRowHeader:function(a,e){var b=this.rowHeaderTable;if(b){var l=q("tbody",b),m,l=l.length==1?l[0]:y.create("tbody",null,b),d=a.rowCount-(e?e.rowCount:0);if(d>0)for(var f=0;f<d;f++){m=y.create("tr",
null,l);m=y.create("td",null,m);var g=[];g.push(c(m,"click",o.hitch(this,this._rowHeaderClick)));if(!k("touch")){g.push(c(m,"mousedown",function(a){j.add(a.currentTarget,"Active")}));g.push(c(m,"mouseup",function(a){j.remove(a.currentTarget,"Active")}));g.push(c(m,"mouseover",function(a){j.add(a.currentTarget,"Hover")}));g.push(c(m,"mouseout",function(a){j.remove(a.currentTarget,"Hover")}))}this._rowHeaderHandles.push(g)}else{d=-d;for(f=0;f<d;f++){l.removeChild(l.lastChild);for(m=this._rowHeaderHandles.pop();m.length>
0;)m.pop().remove()}}q("tr",b).forEach(function(b,e){h.set(b,"height",this._getRowHeight(e)+"px");var c=a.dates[e][0],l=q("td",b)[0];l.className="";e==0&&j.add(l,"first-child");e==this.renderData.rowCount-1&&j.add(l,"last-child");this.styleRowHeaderCell(l,c,a);this._setText(l,this._formatRowHeaderLabel(c))},this)}},styleRowHeaderCell:function(){},_buildGrid:function(a,e){var b=this.gridTable;if(b){var c=a.rowCount-(e?e.rowCount:0),m=c>0,d=a.columnCount-(e?e.columnCount:0);if(k("ie")==8)if(this._gridTableSave==
null)this._gridTableSave=o.clone(b);else if(d<0){this.grid.removeChild(b);y.destroy(b);this.gridTable=b=o.clone(this._gridTableSave);this.grid.appendChild(b);d=a.columnCount;c=a.rowCount;m=true}var f=q("tbody",b),f=f.length==1?f[0]:y.create("tbody",null,b);if(m)for(var g=0;g<c;g++)y.create("tr",null,f);else{c=-c;for(g=0;g<c;g++)f.removeChild(f.lastChild)}var n=a.rowCount-c,r=m||d>0,d=r?d:-d;q("tr",b).forEach(function(b,e){if(r)for(var c=e>=n?a.columnCount:d,e=0;e<c;e++){var l=y.create("td",null,b);
y.create("span",null,l)}else for(e=0;e<d;e++)b.removeChild(b.lastChild)});q("tr",b).forEach(function(b,e){h.set(b,"height",this._getRowHeight(e)+"px");b.className="";e==0&&j.add(b,"first-child");e==a.rowCount-1&&j.add(b,"last-child");q("td",b).forEach(function(b,c){b.className="";c==0&&j.add(b,"first-child");c==a.columnCount-1&&j.add(b,"last-child");var l=a.dates[e][c];this._setText(q("span",b)[0],this.showCellLabel?this._formatGridCellLabel(l,e,c):null);this.styleGridCell(b,l,a)},this)},this)}},
styleGridCell:function(a,e,b){b=b.dateFuncObj;this.isToday(e)?j.add(a,"dojoxCalendarToday"):this.refStartTime!=null&&this.refEndTime!=null&&(b.compare(e,this.refEndTime)>=0||b.compare(b.add(e,"day",1),this.refStartTime)<=0)?j.add(a,"dojoxCalendarDayDisabled"):this.isWeekEnd(e)&&j.add(a,"dojoxCalendarWeekend")},_buildItemContainer:function(a,e){var b=this.itemContainerTable;if(b){var c=[],m=a.rowCount-(e?e.rowCount:0);if(k("ie")==8)if(this._itemTableSave==null)this._itemTableSave=o.clone(b);else if(m<
0){this.itemContainer.removeChild(b);this._recycleItemRenderers(true);this._recycleExpandRenderers(true);y.destroy(b);this.itemContainerTable=b=o.clone(this._itemTableSave);this.itemContainer.appendChild(b);m=a.columnCount}var d=q("tbody",b),f,d=d.length==1?d[0]:y.create("tbody",null,b);if(m>0)for(var g=0;g<m;g++){f=y.create("tr",null,d);j.add(f,"dojoxCalendarItemContainerRow");f=y.create("td",null,f);f=y.create("div",null,f);j.add(f,"dojoxCalendarContainerRow")}else{m=-m;for(g=0;g<m;g++)d.removeChild(d.lastChild)}q(".dojoxCalendarItemContainerRow",
b).forEach(function(a,b){h.set(a,"height",this._getRowHeight(b)+"px");c.push(a.childNodes[0].childNodes[0])},this);a.cells=c}},_resizeHander:function(a,e){var b=this.renderData;if(b==null)this.refreshRendering();else{if(b.sheetHeight!=this.itemContainer.offsetHeight){b.sheetHeight=this.itemContainer.offsetHeight;if(this.getExpandedRowIndex()==-1){this._computeRowsHeight();this._resizeRows()}else this.expandRow(b.expandedRow,b.expandedRowCol,0,null,true)}if(this.layoutDuringResize||e)setTimeout(o.hitch(this,
function(){this._layoutRenderers(this.renderData)}),20);else{h.set(this.itemContainer,"opacity",0);this._recycleItemRenderers();this._recycleExpandRenderers();this._resizeTimer!=void 0&&clearTimeout(this._resizeTimer);this._resizeTimer=setTimeout(o.hitch(this,function(){delete this._resizeTimer;this._resizeRowsImpl(this.itemContainer,"tr");this._layoutRenderers(this.renderData);this.resizeAnimationDuration==0?h.set(this.itemContainer,"opacity",1):g.fadeIn({node:this.itemContainer,curve:[0,1]}).play(this.resizeAnimationDuration)}),
200)}}},resizeAnimationDuration:0,getExpandedRowIndex:function(){return this.renderData.expandedRow==null?-1:this.renderData.expandedRow},collapseRow:function(a,e,b){var c=this.renderData;b==void 0&&(b=true);if(a==void 0)a=this.expandDuration;if(c&&c.expandedRow!=null&&c.expandedRow!=-1)if(b&&a){var b=c.expandedRow,d=c.expandedRowHeight;delete c.expandedRow;this._computeRowsHeight(c);var f=this._getRowHeight(b);c.expandedRow=b;this._recycleExpandRenderers();this._recycleItemRenderers();h.set(this.itemContainer,
"display","none");this._expandAnimation=new g.Animation({curve:[d,f],duration:a,easing:e,onAnimate:o.hitch(this,function(a){this._expandRowImpl(Math.floor(a))}),onEnd:o.hitch(this,function(){this._expandAnimation=null;this._collapseRowImpl(false);this._resizeRows();h.set(this.itemContainer,"display","block");setTimeout(o.hitch(this,function(){this._layoutRenderers(c)}),100);this.onExpandAnimationEnd(false)})});this._expandAnimation.play()}else this._collapseRowImpl(b)},_collapseRowImpl:function(a){var e=
this.renderData;delete e.expandedRow;delete e.expandedRowHeight;this._computeRowsHeight(e);if(a==void 0||a){this._resizeRows();this._layoutRenderers(e)}},expandRow:function(a,e,b,c,d){var f=this.renderData;if(!f||a<0||a>=f.rowCount)return-1;if(e==void 0||e<0||e>=f.columnCount)e=-1;d==void 0&&(d=true);if(b==void 0)b=this.expandDuration;if(c==void 0)c=this.expandEasing;var j=this._getRowHeight(a),k=f.sheetHeight-Math.ceil(this.cellPaddingTop*(f.rowCount-1));f.expandedRow=a;f.expandedRowCol=e;f.expandedRowHeight=
k;if(d)if(b){this._recycleExpandRenderers();this._recycleItemRenderers();h.set(this.itemContainer,"display","none");this._expandAnimation=new g.Animation({curve:[j,k],duration:b,delay:50,easing:c,onAnimate:o.hitch(this,function(a){this._expandRowImpl(Math.floor(a))}),onEnd:o.hitch(this,function(){this._expandAnimation=null;h.set(this.itemContainer,"display","block");setTimeout(o.hitch(this,function(){this._expandRowImpl(k,true)}),100);this.onExpandAnimationEnd(true)})});this._expandAnimation.play()}else this._expandRowImpl(k)},
_expandRowImpl:function(a,e){var b=this.renderData;b.expandedRowHeight=a;this._computeRowsHeight(b,b.sheetHeight-a);this._resizeRows();e&&this._layoutRenderers(b)},onExpandAnimationEnd:function(){},_resizeRows:function(){if(!(this._getRowHeight(0)<=0)){this.rowHeaderTable&&this._resizeRowsImpl(this.rowHeaderTable,"tr");this.gridTable&&this._resizeRowsImpl(this.gridTable,"tr");this.itemContainerTable&&this._resizeRowsImpl(this.itemContainerTable,"tr")}},_computeRowsHeight:function(a,e){var b=a==null?
this.renderData:a,e=e||b.sheetHeight;e--;k("ie")==7&&(e=e-b.rowCount);if(b.rowCount==1){b.rowHeight=e;b.rowHeightFirst=e;b.rowHeightLast=e}else{var c=b.expandedRow==null?b.rowCount:b.rowCount-1,d=e/c,f;f=e-Math.floor(d)*c;var g=Math.abs(e-Math.ceil(d)*c),c=1;if(f<g){d=Math.floor(d);g=f}else{c=-1;d=Math.ceil(d)}f=d+c*Math.floor(g/2);b.rowHeight=d;b.rowHeightFirst=f;b.rowHeightLast=f+c*(g%2)}},_getRowHeight:function(a){var e=this.renderData;return a==e.expandedRow?e.expandedRowHeight:e.expandedRow==
0&&a==1||a==0?e.rowHeightFirst:e.expandedRow==this.renderData.rowCount-1&&a==this.renderData.rowCount-2||a==this.renderData.rowCount-1?e.rowHeightLast:e.rowHeight},_resizeRowsImpl:function(a,e){dojo.query(e,a).forEach(function(a,e){h.set(a,"height",this._getRowHeight(e)+"px")},this)},_setHorizontalRendererAttr:function(a){this._destroyRenderersByKind("horizontal");this._set("horizontalRenderer",a)},_setLabelRendererAttr:function(a){this._destroyRenderersByKind("label");this._set("labelRenderer",a)},
_destroyExpandRenderer:function(a){n.forEach(a.__handles,function(a){a.remove()});a.destroy&&a.destroy();f.destroy(a.domNode)},_setExpandRendererAttr:function(a){for(;this._ddRendererList.length>0;)this._destroyExpandRenderer(this._ddRendererList.pop());var e=this._ddRendererPool;if(e)for(;e.length>0;)this._destroyExpandRenderer(e.pop());this._set("expandRenderer",a)},_ddRendererList:null,_ddRendererPool:null,_getExpandRenderer:function(a,e,b,c,d){if(this.expandRenderer==null)return null;var f=this._ddRendererPool.pop();
f==null&&(f=new this.expandRenderer);this._ddRendererList.push(f);f.set("owner",this);f.set("date",a);f.set("items",e);f.set("rowIndex",b);f.set("columnIndex",c);f.set("expanded",d);return f},_recycleExpandRenderers:function(a){for(var e=0;e<this._ddRendererList.length;e++){var b=this._ddRendererList[e];b.set("Up",false);b.set("Down",false);a&&b.domNode.parentNode.removeChild(b.domNode);h.set(b.domNode,"display","none")}this._ddRendererPool=this._ddRendererPool.concat(this._ddRendererList);this._ddRendererList=
[]},_defaultItemToRendererKindFunc:function(a){return Math.abs(this.renderData.dateFuncObj.difference(a.startTime,a.endTime,"minute"))>=1440?"horizontal":"label"},naturalRowsHeight:null,_roundItemToDay:function(a){var e=a.startTime,a=a.endTime;this.isStartOfDay(e)||(e=this.floorToDay(e,false,this.renderData));if(!this.isStartOfDay(a)){a=this.renderData.dateFuncObj.add(a,"day",1);a=this.floorToDay(a,true)}return{startTime:e,endTime:a}},_sortItemsFunction:function(a,e){if(this.roundToDay){a=this._roundItemToDay(a);
e=this._roundItemToDay(e)}var b=this.dateFuncObj.compare(a.startTime,e.startTime);b==0&&(b=-1*this.dateFuncObj.compare(a.endTime,e.endTime));return b},_overlapLayoutPass3:function(a){for(var e=0,b=0,c=[],d=t.position(this.gridTable).x,f=0;f<this.renderData.columnCount;f++){for(var g=false,b=t.position(this._getCellAt(0,f)),e=b.x-d,b=e+b.w,h=a.length-1;h>=0&&!g;h--)for(var j=0;j<a[h].length;j++){g=a[h][j];if(g=g.start<b&&e<g.end){c[f]=h+1;break}}g||(c[f]=0)}return c},applyRendererZIndex:function(a,
e,b,c,d){h.set(e.container,{zIndex:d||c?e.renderer.mobile?100:0:a.lane==void 0?1:a.lane+1})},_layoutRenderers:function(a){if(!(a==null||a.items==null||a.rowHeight<=0))if(!this.gridTable||this._expandAnimation!=null||this.horizontalRenderer==null&&this.labelRenderer==null)this._recycleItemRenderers();else{this.renderData.gridTablePosX=t.position(this.gridTable).x;this._layoutStep=a.columnCount;this._recycleExpandRenderers();this._hiddenItems=[];this._offsets=[];this.naturalRowsHeight=[];this.inherited(arguments)}},
getDateString:function(a){return this.renderData.dateLocaleModule.format(a,{selector:"date",formatLength:"medium"})},_offsets:null,_layoutInterval:function(a,e,b,c,d){if(this.renderData.cells!=null){for(var f=[],a=[],g=0;g<d.length;g++){var h=d[g],j=this._itemToRendererKind(h);j=="horizontal"?f.push(h):j=="label"&&a.push(h)}d=this.getExpandedRowIndex();if(!(d!=-1&&d!=e)){var d=[],k,g=[];if(f.length>0&&this.horizontalRenderer){k=this._createHorizontalLayoutItems(e,b,c,f);var n=this._computeHorizontalOverlapLayout(k,
g)}var o,f=[];if(a.length>0&&this.labelRenderer){o=this._createLabelLayoutItems(e,b,c,a);this._computeLabelOffsets(o,f)}b=this._computeColHasHiddenItems(e,g,f);k!=null&&this._layoutHorizontalItemsImpl(e,k,n,b,d);o!=null&&this._layoutLabelItemsImpl(e,o,b,d,g);this._layoutExpandRenderers(e,b,d);this._hiddenItems[e]=d}}},_createHorizontalLayoutItems:function(a,e,b,c){if(this.horizontalRenderer!=null){var d=this.renderData,f=d.dateFuncObj;t.getMarginBox(this.itemContainer);for(var g=d.rtl?-1:1,h=[],j=
0;j<c.length;j++){var k=c[j],n=this.computeRangeOverlap(d,k.startTime,k.endTime,e,b),q=f.difference(e,this.floorToDay(n[0],false,d),"day"),r=d.dates[a][q],s=t.position(this._getCellAt(a,q,false)),v=s.x-d.gridTablePosX;d.rtl&&(v=v+s.w);!this.roundToDay&&!k.allDay&&(v=v+g*this.computeProjectionOnDate(d,r,n[0],s.w));var v=Math.ceil(v),w=f.difference(e,this.floorToDay(n[1],false,d),"day"),u;if(w>d.columnCount-1){s=t.position(this._getCellAt(a,d.columnCount-1,false));u=d.rtl?s.x-d.gridTablePosX:s.x-d.gridTablePosX+
s.w}else{r=d.dates[a][w];s=t.position(this._getCellAt(a,w,false));u=s.x-d.gridTablePosX;d.rtl&&(u=u+s.w);this.roundToDay?this.isStartOfDay(n[1])||(u=u+g*s.w):u=u+g*this.computeProjectionOnDate(d,r,n[1],s.w)}u=Math.floor(u);if(d.rtl){r=u;u=v;v=r}if(u>v){k=o.mixin({start:v,end:u,range:n,item:k,startOffset:q,endOffset:w},k);h.push(k)}}return h}},_computeHorizontalOverlapLayout:function(a,e){var b=this.renderData,c=this.horizontalRendererHeight,d=this.computeOverlapping(a,this._overlapLayoutPass3),f=
this.percentOverlap/100;for(i=0;i<b.columnCount;i++){var g=d.addedPassRes[i],h=b.rtl?b.columnCount-i-1:i;e[h]=f==0?g==0?0:g==1?c:c+(g-1)*(c+this.verticalGap):g==0?0:g*c-(g-1)*f*c+this.verticalGap;e[h]=e[h]+this.cellPaddingTop}return d},_createLabelLayoutItems:function(a,e,b,c){if(this.labelRenderer!=null){for(var b=this.renderData,d=b.dateFuncObj,f=[],g=0;g<c.length;g++)for(var h=c[g],a=this.floorToDay(h.startTime,false,b);a<h.endTime&&a<b.endTime;){var j=d.add(a,"day",1),j=this.floorToDay(j,true),
j=this.computeRangeOverlap(b,h.startTime,h.endTime,a,j),k=d.difference(e,this.floorToDay(j[0],false,b),"day"),n=f[k];if(n==null){n=[];f[k]=n}n.push(o.mixin({startOffset:k,range:j,item:h},h));a=d.add(a,"day",1);this.floorToDay(a,true)}return f}},_computeLabelOffsets:function(a,e){for(var b=0;b<this.renderData.columnCount;b++)e[b]=a[b]==null?0:a[b].length*(this.labelRendererHeight+this.verticalGap)},_computeColHasHiddenItems:function(a,e,b){for(var c=[],d=this._getRowHeight(a),f,g=0,h=0;h<this.renderData.columnCount;h++){f=
e==null||e[h]==null?this.cellPaddingTop:e[h];f=f+(b==null||b[h]==null?0:b[h]);f>g&&(g=f);c[h]=f>d}this.naturalRowsHeight[a]=g;return c},_layoutHorizontalItemsImpl:function(a,e,b,c,d){for(var b=this.renderData.cells[a],a=this._getRowHeight(a),f=this.horizontalRendererHeight,g=this.percentOverlap/100,j=0;j<e.length;j++){var n=e[j],o=n.lane,q=this.cellPaddingTop,q=g==0?q+o*(f+this.verticalGap):q+o*(f-g*f),o=false,s=a;if(this.expandRenderer){for(s=n.startOffset;s<=n.endOffset;s++)if(c[s]){o=true;break}s=
o?a-this.expandRendererHeight:a}if(q+f<=s){var o=this._createRenderer(n,"horizontal",this.horizontalRenderer,"dojoxCalendarHorizontal"),r=(s=this.isItemBeingEdited(n)&&!this.liveLayout&&this._isEditing)?a-this.cellPaddingTop:f,t=n.end-n.start;k("ie")>=9&&n.start+t<this.itemContainer.offsetWidth&&t++;h.set(o.container,{top:(s?this.cellPaddingTop:q)+"px",left:n.start+"px",width:t+"px",height:r+"px"});this._applyRendererLayout(n,o,b,t,r,"horizontal")}else for(q=n.startOffset;q<n.endOffset;q++)d[q]==
null?d[q]=[n.item]:d[q].push(n.item)}},_layoutLabelItemsImpl:function(a,e,b,c,d){for(var f,g,j=this.renderData,k=j.cells[a],n=this._getRowHeight(a),q=this.labelRendererHeight,s=t.getMarginBox(this.itemContainer).w,r=0;r<e.length;r++){f=e[r];if(f!=null){var v=this.expandRenderer?b[r]?n-this.expandRendererHeight:n:n;g=d==null||d[r]==null?this.cellPaddingTop:d[r]+this.verticalGap;for(var u=t.position(this._getCellAt(a,r)),w=u.x-j.gridTablePosX,y=0;y<f.length;y++){if(g+q+this.verticalGap<=v){var A=f[y];
o.mixin(A,{start:w,end:w+u.w});var B=this._createRenderer(A,"label",this.labelRenderer,"dojoxCalendarLabel"),D=this.isItemBeingEdited(A)&&!this.liveLayout&&this._isEditing,E=D?this._getRowHeight(a)-this.cellPaddingTop:q;if(j.rtl){A.start=s-A.end;A.end=A.start+u.w}h.set(B.container,{top:(D?this.cellPaddingTop:g)+"px",left:A.start+"px",width:u.w+"px",height:E+"px"});this._applyRendererLayout(A,B,k,u.w,E,"label")}else break;g=g+(q+this.verticalGap)}for(;y<f.length;y++)c[r]==null?c[r]=[f[y]]:c[r].push(f[y])}}},
_applyRendererLayout:function(a,e,b,c,d,f){var g=this.isItemBeingEdited(a),j=this.isItemSelected(a),k=this.isItemHovered(a),n=this.isItemFocused(a),o=e.renderer;o.set("hovered",k);o.set("selected",j);o.set("edited",g);o.set("focused",this.showFocus?n:false);o.set("moveEnabled",this.isItemMoveEnabled(a,f));f!="label"&&o.set("resizeEnabled",this.isItemResizeEnabled(a,f));this.applyRendererZIndex(a,e,k,j,g,n);o.updateRendering&&o.updateRendering(c,d);y.place(e.container,b);h.set(e.container,"display",
"block")},_getCellAt:function(a,e,b){if((b==void 0||b==true)&&!this.isLeftToRight())e=this.renderData.columnCount-1-e;return this.gridTable.childNodes[0].childNodes[a].childNodes[e]},_layoutExpandRenderers:function(a,e,b){if(this.expandRenderer){var c=this.renderData;if(c.expandedRow==a)c.expandedRowCol!=null&&c.expandedRowCol!=-1&&this._layoutExpandRendererImpl(c.expandedRow,c.expandedRowCol,null,true);else if(c.expandedRow==null)for(var d=0;d<c.columnCount;d++)e[d]&&this._layoutExpandRendererImpl(a,
c.rtl?c.columnCount-1-d:d,b[d],false)}},_layoutExpandRendererImpl:function(a,e,b,c){var d=this.renderData,f=d.cells[a],c=this._getExpandRenderer(o.clone(d.dates[a][e]),b,a,e,c),a=t.position(this._getCellAt(a,e));a.x=a.x-d.gridTablePosX;this.layoutExpandRenderer(c,void 0,b,a,this.expandRendererHeight);y.place(c.domNode,f);h.set(c.domNode,"display","block")},layoutExpandRenderer:function(a,e,b,c,d){h.set(a.domNode,{left:c.x+"px",width:c.w+"px",height:d+"px",top:c.h-d-1+"px"})},_onItemEditBeginGesture:function(a){var e=
this._edProps,b=e.editedItem,c=a.dates,d=this.newDate(e.editKind=="resizeEnd"?b.endTime:b.startTime);if(e.rendererKind!="label"&&a.editKind=="move"&&(b.allDay||this.roundToDay))e.dayOffset=this.renderData.dateFuncObj.difference(this.floorToDay(c[0],false,this.renderData),d,"day");this.inherited(arguments)},_computeItemEditingTimes:function(a,e,b,c,d){var f=this.renderData.dateFuncObj,g=this._edProps;if(b!="label")if(a.allDay||this.roundToDay){var h=this.isStartOfDay(c[0]);switch(e){case "resizeEnd":!h&&
a.allDay&&(c[0]=f.add(c[0],"day",1));case "resizeStart":h||(c[0]=this.floorToDay(c[0],true));break;case "move":c[0]=f.add(c[0],"day",g.dayOffset);break;case "resizeBoth":h||(c[0]=this.floorToDay(c[0],true));this.isStartOfDay(c[1])||(c[1]=this.floorToDay(f.add(c[1],"day",1),true))}}else c=this.inherited(arguments);return c},getTime:function(a,e,b,c){var d=this.renderData;if(a!=null){b=t.position(this.itemContainer,true);if(a.touches){c=c==void 0?0:c;e=a.touches[c].pageX-b.x;b=a.touches[c].pageY-b.y}else{e=
a.pageX-b.x;b=a.pageY-b.y}}c=t.getContentBox(this.itemContainer);e<0?e=0:e>c.w&&(e=c.w-1);b<0?b=0:b>c.h&&(b=c.h-1);a=t.getMarginBox(this.itemContainer).w/d.columnCount;b=d.expandedRow==null?Math.floor(b/(t.getMarginBox(this.itemContainer).h/d.rowCount)):d.expandedRow;c=t.getContentBox(this.itemContainer);d.rtl&&(e=c.w-e);c=Math.floor(e/a);e=Math.floor((e-c*a)*1440/a);a=null;if(b<d.dates.length&&c<this.renderData.dates[b].length){a=this.newDate(this.renderData.dates[b][c]);a=this.renderData.dateFuncObj.add(a,
"minute",e)}return a},_onGridMouseUp:function(a){this.inherited(arguments);if(this._gridMouseDown){this._gridMouseDown=false;this._onGridClick({date:this.getTime(a),triggerEvent:a})}},_onGridTouchEnd:function(a){this.inherited(arguments);var e=this._gridProps;if(e){if(!this._isEditing){!e.fromItem&&!e.editingOnStart&&this.selectFromEvent(a,null,null,true);if(!e.fromItem)if(this._pendingDoubleTap&&this._pendingDoubleTap.grid){this._onGridDoubleClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event});
clearTimeout(this._pendingDoubleTap.timer);delete this._pendingDoubleTap}else{this._onGridClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event});this._pendingDoubleTap={grid:true,timer:setTimeout(o.hitch(this,function(){delete this._pendingDoubleTap}),this.doubleTapDelay)}}}this._gridProps=null}},_onRowHeaderClick:function(a){this._dispatchCalendarEvt(a,"onRowHeaderClick")},onRowHeaderClick:function(){},expandRendererClickHandler:function(a,e){s.stop(a);this.getExpandedRowIndex()!=
-1?this.collapseRow():this.expandRow(e.rowIndex,e.columnIndex)},snapUnit:"minute",snapSteps:15,minDurationUnit:"minute",minDurationSteps:15,triggerExtent:3,liveLayout:false,stayInView:true,allowStartEndSwap:true,allowResizeLessThan24H:false})})},"dojox/calendar/ViewBase":function(){define("dojox/calendar/ViewBase","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/_base/event dojo/_base/html dojo/_base/sniff dojo/query dojo/dom dojo/dom-style dojo/dom-construct dojo/on dojo/date dojo/date/locale dijit/_WidgetBase dojox/widget/_Invalidating dojox/widget/Selection dojox/calendar/time ./StoreMixin".split(" "),
function(r,n,s,o,k,g,f,c,d,j,h,t,y,q,w,A,v,u,B){return r("dojox.calendar.ViewBase",[w,B,A,v],{datePackage:y,_calendar:"gregorian",viewKind:null,_layoutStep:1,_layoutUnit:"day",resizeCursor:"n-resize",formatItemTimeFunc:null,_getFormatItemTimeFuncAttr:function(){return this.owner!=null?this.owner.get("formatItemTimeFunc"):this.formatItemTimeFunc},_viewHandles:null,doubleTapDelay:300,constructor:function(a){a=a||{};this._calendar=a.datePackage?a.datePackage.substr(a.datePackage.lastIndexOf(".")+1):
this._calendar;this.datePackage=a.datePackage||this.datePackage;this.dateFuncObj=typeof this.datePackage=="string"?n.getObject(this.datePackage,false):this.datePackage;this.dateClassObj=this.dateFuncObj.Date||Date;this.dateLocaleModule=n.getObject("locale",false,this.dateFuncObj);this.rendererPool=[];this.rendererList=[];this.itemToRenderer={};this._viewHandles=[]},destroy:function(a){for(;this.rendererList.length>0;)this._destroyRenderer(this.rendererList.pop());for(kind in this._rendererPool){var e=
this._rendererPool[kind];if(e)for(;e.length>0;)this._destroyRenderer(e.pop())}for(;this._viewHandles.length>0;)this._viewHandles.pop().remove();this.inherited(arguments)},_createStructure:function(){},_createRenderData:function(){},_validateProperties:function(){},_setText:function(a,e,b){for(;a.hasChildNodes();)a.removeChild(a.lastChild);if(e!=null){var c=o.doc.createElement("span");this.applyTextDir(c,e);a.appendChild(c);a=c;b?a.innerHTML=e:a.appendChild(o.doc.createTextNode(e))}},isAscendantHasClass:function(a,
e,b){for(;a!=e&&a!=document;){if(dojo.hasClass(a,b))return true;a=a.parentNode}return false},isWeekEnd:function(a){return q.isWeekend(a)},getWeekNumberLabel:function(a){a.toGregorian&&(a=a.toGregorian());return q.format(a,{selector:"date",datePattern:"w"})},floorToDay:function(a,e){return u.floorToDay(a,e,this.dateClassObj)},floorToMonth:function(a,e){return u.floorToMonth(a,e,this.dateClassObj)},floorDate:function(a,e,b,c){return u.floor(a,e,b,c,this.dateClassObj)},isToday:function(a){return u.isToday(a,
this.dateClassObj)},isStartOfDay:function(a){return u.isStartOfDay(a,this.dateClassObj,this.dateFuncObj)},isOverlapping:function(a,e,b,c,d,f){if(e==null||c==null||b==null||d==null)return false;a=a.dateFuncObj;if(f){if(a.compare(e,d)==1||a.compare(c,b)==1)return false}else if(a.compare(e,d)!=-1||a.compare(c,b)!=-1)return false;return true},computeRangeOverlap:function(a,e,b,c,d,f){var g=a.dateFuncObj;if(e==null||c==null||b==null||d==null)return null;var h=g.compare(e,d),j=g.compare(c,b);if(f){if(h==
0||h==1||j==0||j==1)return null}else if(h==1||j==1)return null;return[this.newDate(g.compare(e,c)>0?e:c,a),this.newDate(g.compare(b,d)>0?d:b,a)]},isSameDay:function(a,e){return a==null||e==null?false:a.getFullYear()==e.getFullYear()&&a.getMonth()==e.getMonth()&&a.getDate()==e.getDate()},computeProjectionOnDate:function(a,e,b,c){var d=a.dateFuncObj;if(c<=0||d.compare(b,e)==-1)return 0;var f=this.floorToDay(e,false,a);if(b.getDate()!=f.getDate())if(b.getMonth()==f.getMonth()){if(b.getDate()<f.getDate())return 0;
if(b.getDate()>f.getDate())return c}else if(b.getFullYear()==f.getFullYear()){if(b.getMonth()<f.getMonth())return 0;if(b.getMonth()>f.getMonth())return c}else{if(b.getFullYear()<f.getFullYear())return 0;if(b.getFullYear()>f.getFullYear())return c}if(this.isSameDay(e,b)){f=n.clone(e);d=0;if(a.minHours!=null&&a.minHours!=0){f.setHours(a.minHours);d=f.getHours()*3600+f.getMinutes()*60+f.getSeconds()}f=n.clone(e);if(a.maxHours==null||a.maxHours==24)a=86400;else{f.setHours(a.maxHours);a=f.getHours()*3600+
f.getMinutes()*60+f.getSeconds()}e=b.getHours()*3600+b.getMinutes()*60+b.getSeconds()-d;if(e<0)return 0;if(e>a)return c;c=c*e/(a-d)}else{if(b.getDate()<e.getDate()&&b.getMonth()==e.getMonth())return 0;b=this.floorToDay(b);f=a.dateFuncObj.add(e,"day",1);f=this.floorToDay(f,false,a);c=d.compare(b,e)==1&&d.compare(b,f)==0||d.compare(b,f)==1?c:0}return c},getTime:function(){return null},newDate:function(a){return u.newDate(a,this.dateClassObj)},_isItemInView:function(a){var e=this.renderData,b=e.dateFuncObj;
return b.compare(a.startTime,e.startTime)==-1||b.compare(a.endTime,e.endTime)==1?false:true},_ensureItemInView:function(a){var e=this.renderData,b=e.dateFuncObj,c=Math.abs(b.difference(a.startTime,a.endTime,"millisecond")),d=false;if(b.compare(a.startTime,e.startTime)==-1){a.startTime=e.startTime;a.endTime=b.add(a.startTime,"millisecond",c);d=true}else if(b.compare(a.endTime,e.endTime)==1){a.endTime=e.endTime;a.startTime=b.add(a.endTime,"millisecond",-c);d=true}return d},scrollable:true,autoScroll:true,
_autoScroll:function(){return false},_startAutoScroll:function(a){var e=this._scrollProps;if(!e)e=this._scrollProps={};e.scrollStep=a;if(!e.isScrolling){e.isScrolling=true;e.scrollTimer=setInterval(n.hitch(this,this._onScrollTimer_tick),10)}},_stopAutoScroll:function(){var a=this._scrollProps;if(a&&a.isScrolling){clearInterval(a.scrollTimer);a.scrollTimer=null}this._scrollProps=null},_onScrollTimer_tick:function(){},scrollView:function(){},ensureVisibility:function(){},_getStoreAttr:function(){return this.owner?
this.owner.get("store"):this.store},_setItemsAttr:function(a){this._set("items",a);this.displayedItemsInvalidated=true},_refreshItemsRendering:function(){var a=this.renderData;this._computeVisibleItems(a);this._layoutRenderers(a)},invalidateLayout:function(){this._layoutRenderers(this.renderData)},resize:function(){},computeOverlapping:function(a,e){if(a.length==0)return{numLanes:0,addedPassRes:[1]};for(var b=[],c=0;c<a.length;c++)this._layoutPass1(a[c],b);var d;e&&(d=n.hitch(this,e)(b));return{numLanes:b.length,
addedPassRes:d}},_layoutPass1:function(a,e){for(var b=true,c=0;c<e.length;c++){for(var d=e[c],b=false,f=0;f<d.length&&!b;f++)if(d[f].start<a.end&&a.start<d[f].end){b=true;d[f].extent=1}if(!b){a.lane=c;a.extent=-1;d.push(a);return}}e.push([a]);a.lane=e.length-1;a.extent=-1},_layoutInterval:function(){},layoutPriorityFunction:null,_sortItemsFunction:function(a,e){var b=this.dateFuncObj.compare(a.startTime,e.startTime);b==0&&(b=-1*this.dateFuncObj.compare(a.endTime,e.endTime));return b},_layoutRenderers:function(a){if(a.items){this._recycleItemRenderers();
for(var e=a.dateFuncObj,b=this.newDate(a.startTime),c=n.clone(b),d=a.items.concat(),f=[],g,h=0;e.compare(b,a.endTime)==-1&&d.length>0;){var b=e.add(b,this._layoutUnit,this._layoutStep),b=this.floorToDay(b,true,a),j=n.clone(b);a.minHours&&c.setHours(a.minHours);if(a.maxHours&&a.maxHours!=24){j=e.add(b,"day",-1);j=this.floorToDay(j,true,a);j.setHours(a.maxHours)}g=s.filter(d,function(b){var d=this.isOverlapping(a,b.startTime,b.endTime,c,j);d?e.compare(b.endTime,j)==1&&f.push(b):f.push(b);return d},
this);d=f;f=[];if(g.length>0){g.sort(n.hitch(this,this.layoutPriorityFunction?this.layoutPriorityFunction:this._sortItemsFunction));this._layoutInterval(a,h,c,j,g)}c=n.clone(b);h++}this._onRenderersLayoutDone(this)}},_recycleItemRenderers:function(a){for(;this.rendererList.length>0;)this._recycleRenderer(this.rendererList.pop(),a);this.itemToRenderer={}},rendererPool:null,rendererList:null,itemToRenderer:null,getRenderers:function(a){if(a==null||a.id==null)return null;a=this.itemToRenderer[a.id];
return a==null?null:a.concat()},_rendererHandles:{},itemToRendererKindFunc:null,_itemToRendererKind:function(a){return this.itemToRendererKindFunc?this.itemToRendererKindFunc(a):this._defaultItemToRendererKindFunc(a)},_defaultItemToRendererKindFunc:function(){return null},_createRenderer:function(a,e,b,c){if(a!=null&&e!=null&&b!=null){var d,f=this.rendererPool[e];f!=null&&(d=f.shift());if(d==null){b=new b;d=h.create("div");d.className="dojoxCalendarEventContainer "+c;d.appendChild(b.domNode);d={renderer:b,
container:b.domNode,kind:e};this.onRendererCreated(d)}else{b=d.renderer;this.onRendererReused(b)}b.owner=this;b.set("rendererKind",e);b.set("item",a);e=this.itemToRenderer[a.id];e==null&&(this.itemToRenderer[a.id]=e=[]);e.push(d);this.rendererList.push(d);return d}return null},onRendererCreated:function(){},onRendererRecycled:function(){},onRendererReused:function(){},onRendererDestroyed:function(){},_onRenderersLayoutDone:function(a){this.onRenderersLayoutDone(a);if(this.owner!=null)this.owner.onRenderersLayoutDone(a)},
onRenderersLayoutDone:function(){},_recycleRenderer:function(a,e){this.onRendererRecycled(a);var b=this.rendererPool[a.kind];b==null?this.rendererPool[a.kind]=[a]:b.push(a);e&&a.container.parentNode.removeChild(a.container);j.set(a.container,"display","none");a.renderer.owner=null;a.renderer.set("item",null)},_destroyRenderer:function(a){this.onRendererDestroyed(a);var e=a.renderer;s.forEach(e.__handles,function(a){a.remove()});e.destroy&&e.destroy();g.destroy(a.container)},_destroyRenderersByKind:function(a){for(var e=
[],b=0;b<this.rendererList.length;b++){var c=this.rendererList[b];c.kind==a?this._destroyRenderer(c):e.push(c)}this.rendererList=e;if(a=this.rendererPool[a])for(;a.length>0;)this._destroyRenderer(a.pop())},_updateEditingCapabilities:function(a,e){var b=this.isItemMoveEnabled(a,e.rendererKind),c=this.isItemResizeEnabled(a,e.rendererKind),d=false;if(b!=e.get("moveEnabled")){e.set("moveEnabled",b);d=true}if(c!=e.get("resizeEnabled")){e.set("resizeEnabled",c);d=true}d&&e.updateRendering()},updateRenderers:function(a,
e){if(a!=null)for(var b=n.isArray(a)?a:[a],c=0;c<b.length;c++){var d=b[c];if(!(d==null||d.id==null)){var f=this.itemToRenderer[d.id];if(f!=null)for(var g=this.isItemSelected(d),h=this.isItemHovered(d),j=this.isItemBeingEdited(d),k=this.showFocus?this.isItemFocused(d):false,o=0;o<f.length;o++){var q=f[o].renderer;q.set("hovered",h);q.set("selected",g);q.set("edited",j);q.set("focused",k);this.applyRendererZIndex(d,f[o],h,g,j,k);if(!e){q.set("item",d);q.updateRendering&&q.updateRendering()}}}}},applyRendererZIndex:function(a,
e,b,c,d){j.set(e.container,{zIndex:d||c?20:a.lane==void 0?0:a.lane})},getIdentity:function(a){return this.owner?this.owner.getIdentity(a):a.id},_setHoveredItem:function(a,e){if(this.owner)this.owner._setHoveredItem(a,e);else if(this.hoveredItem&&a&&this.hoveredItem.id!=a.id||a==null||this.hoveredItem==null){var b=this.hoveredItem;this.hoveredItem=a;this.updateRenderers([b,this.hoveredItem],true);a&&e&&this._updateEditingCapabilities(a,e)}},hoveredItem:null,isItemHovered:function(a){return this._isEditing&&
this._edProps?a.id==this._edProps.editedItem.id:this.owner?this.owner.isItemHovered(a):this.hoveredItem!=null&&this.hoveredItem.id==a.id},isItemFocused:function(a){return this._isItemFocused?this._isItemFocused(a):false},_setSelectionModeAttr:function(a){this.owner?this.owner.set("selectionMode",a):this.inherited(arguments)},_getSelectionModeAttr:function(a){return this.owner?this.owner.get("selectionMode"):this.inherited(arguments)},_setSelectedItemAttr:function(a){this.owner?this.owner.set("selectedItem",
a):this.inherited(arguments)},_getSelectedItemAttr:function(a){return this.owner?this.owner.get("selectedItem"):this.inherited(arguments)},_setSelectedItemsAttr:function(a){this.owner?this.owner.set("selectedItems",a):this.inherited(arguments)},_getSelectedItemsAttr:function(){return this.owner?this.owner.get("selectedItems"):this.inherited(arguments)},isItemSelected:function(a){return this.owner?this.owner.isItemSelected(a):this.inherited(arguments)},selectFromEvent:function(a,e,b,c){this.owner?
this.owner.selectFromEvent(a,e,b,c):this.inherited(arguments)},setItemSelected:function(a,e){this.owner?this.owner.setItemSelected(a,e):this.inherited(arguments)},_gridMouseDown:false,_onGridMouseDown:function(a){this._gridMouseDown=true;this.showFocus=false;this._isEditing&&this._endItemEditing("mouse",false);this._doEndItemEditing(this.owner,"mouse");this.set("focusedItem",null);this.selectFromEvent(a,null,null,true);this._setTabIndexAttr&&this[this._setTabIndexAttr].focus()},_onGridMouseUp:function(){},
_onGridTouchStart:function(a){var e=this._edProps;this._gridProps={event:a,fromItem:this.isAscendantHasClass(a.target,this.eventContainer,"dojoxCalendarEventContainer")};if(this._isEditing){if(this._gridProps)this._gridProps.editingOnStart=true;n.mixin(e,this._getTouchesOnRenderers(a,e.editedItem));if(e.touchesLen==0){if(e&&e.endEditingTimer){clearTimeout(e.endEditingTimer);e.endEditingTimer=null}this._endItemEditing("touch",false)}}this._doEndItemEditing(this.owner,"touch");k.stop(a)},_doEndItemEditing:function(a,
e){if(a&&a._isEditing){if((p=a._edProps)&&p.endEditingTimer){clearTimeout(p.endEditingTimer);p.endEditingTimer=null}a._endItemEditing(e,false)}},_onGridTouchEnd:function(){},_onGridTouchMove:function(){},_dispatchCalendarEvt:function(a,e){a=this.__fixEvt(a);this[e](a);if(this.owner)this.owner[e](a);return a},_onGridClick:function(a){a.triggerEvent||(a={date:this.getTime(a),triggerEvent:a});this._dispatchCalendarEvt(a,"onGridClick")},onGridClick:function(){},_onGridDoubleClick:function(a){a.triggerEvent||
(a={date:this.getTime(a),triggerEvent:a});this._dispatchCalendarEvt(a,"onGridDoubleClick")},onGridDoubleClick:function(){},_onItemClick:function(a){this._dispatchCalendarEvt(a,"onItemClick")},onItemClick:function(){},_onItemDoubleClick:function(a){this._dispatchCalendarEvt(a,"onItemDoubleClick")},onItemDoubleClick:function(){},_getStartEndRenderers:function(a){a=this.itemToRenderer[a.id];if(a!=null){if(a.length==1){a=a[0].renderer;return[a,a]}for(var e=this.renderData,b=false,c=false,d=[],f=0;f<a.length;f++){var g=
a[f].renderer;if(!b){b=e.dateFuncObj.compare(g.item.range[0],g.item.startTime)==0;d[0]=g}if(!c){c=e.dateFuncObj.compare(g.item.range[1],g.item.endTime)==0;d[1]=g}if(b&&c)break}return d}},editable:true,moveEnabled:true,resizeEnabled:true,isItemEditable:function(){return this.editable&&(this.owner?this.owner.isItemEditable():true)},isItemMoveEnabled:function(a,e){return this.isItemEditable(a,e)&&this.moveEnabled&&(this.owner?this.owner.isItemMoveEnabled(a,e):true)},isItemResizeEnabled:function(a,e){return this.isItemEditable(a,
e)&&this.resizeEnabled&&(this.owner?this.owner.isItemResizeEnabled(a,e):true)},_isEditing:false,isItemBeingEdited:function(a){return this._isEditing&&this._edProps&&this._edProps.editedItem&&this._edProps.editedItem.id==a.id},_setEditingProperties:function(a){this._edProps=a},_startItemEditing:function(a,e){this._isEditing=true;var b=this._edProps;b.editedItem=a;b.eventSource=e;b.secItem=this._secondarySheet?this._findRenderItem(a.id,this._secondarySheet.renderData.items):null;b.ownerItem=this.owner?
this._findRenderItem(a.id,this.items):null;if(!b.liveLayout){b.editSaveStartTime=a.startTime;b.editSaveEndTime=a.endTime;b.editItemToRenderer=this.itemToRenderer;b.editItems=this.renderData.items;b.editRendererList=this.rendererList;this.renderData.items=[b.editedItem];var c=b.editedItem.id;this.itemToRenderer={};this.rendererList=[];var d=b.editItemToRenderer[c];b.editRendererIndices=[];s.forEach(d,n.hitch(this,function(a){this.itemToRenderer[c]==null?this.itemToRenderer[c]=[a]:this.itemToRenderer[c].push(a);
this.rendererList.push(a)}));b.editRendererList=s.filter(b.editRendererList,function(a){return a!=null&&a.renderer.item.id!=c});delete b.editItemToRenderer[c]}this._layoutRenderers(this.renderData);this._onItemEditBegin({item:a,eventSource:e})},_onItemEditBegin:function(a){this._editStartTimeSave=this.newDate(a.item.startTime);this._editEndTimeSave=this.newDate(a.item.endTime);this._dispatchCalendarEvt(a,"onItemEditBegin")},onItemEditBegin:function(){},_endItemEditing:function(a,e){this._isEditing=
false;var b=this._edProps;s.forEach(b.handles,function(a){a.remove()});if(!b.liveLayout){this.renderData.items=b.editItems;this.rendererList=b.editRendererList.concat(this.rendererList);n.mixin(this.itemToRenderer,b.editItemToRenderer)}var c=this.get("store");this._onItemEditEnd(n.mixin(this._createItemEditEvent(),{item:this.renderItemToItem(b.editedItem,c),eventSource:a,completed:!e}));this._layoutRenderers(this.renderData);this._edProps=null},_onItemEditEnd:function(a){this._dispatchCalendarEvt(a,
"onItemEditEnd");if(!a.isDefaultPrevented())if(a.completed){var e=this.get("store");e.put(a.item,e)}else{a.item.startTime=this._editStartTimeSave;a.item.endTime=this._editEndTimeSave}},onItemEditEnd:function(){},_createItemEditEvent:function(){return{cancelable:true,bubbles:false,__defaultPrevent:false,preventDefault:function(){this.__defaultPrevented=true},isDefaultPrevented:function(){return this.__defaultPrevented}}},_startItemEditingGesture:function(a,e,b,c){var d=this._edProps;if(d&&d.editedItem!=
null){this._editingGesture=true;var f=d.editedItem;d.editKind=e;this._onItemEditBeginGesture(this.__fixEvt(n.mixin(this._createItemEditEvent(),{item:f,startTime:f.startTime,endTime:f.endTime,editKind:e,rendererKind:d.rendererKind,triggerEvent:c,dates:a,eventSource:b})));d.itemBeginDispatched=true}},_onItemEditBeginGesture:function(a){var e=this._edProps,b=e.editedItem,c=a.dates;e.editingTimeFrom=[];e.editingTimeFrom[0]=c[0];e.editingItemRefTime=[];e.editingItemRefTime[0]=this.newDate(e.editKind==
"resizeEnd"?b.endTime:b.startTime);if(e.editKind=="resizeBoth"){e.editingTimeFrom[1]=c[1];e.editingItemRefTime[1]=this.newDate(b.endTime)}c=this.renderData.dateFuncObj;e.inViewOnce=this._isItemInView(b);if(e.rendererKind=="label"||this.roundToDay){e._itemEditBeginSave=this.newDate(b.startTime);e._itemEditEndSave=this.newDate(b.endTime)}e._initDuration=c.difference(b.startTime,b.endTime,b.allDay?"day":"millisecond");this._dispatchCalendarEvt(a,"onItemEditBeginGesture");if(!a.isDefaultPrevented()&&
a.eventSource=="mouse"){e.editLayer=h.create("div",{style:"position: absolute; left:0; right:0; bottom:0; top:0; z-index:30; tabIndex:-1; background-image:url('"+this._blankGif+"'); cursor: "+(a.editKind=="move"?"move":this.resizeCursor),onresizestart:function(){return false},onselectstart:function(){return false}},this.domNode);e.editLayer.focus()}},onItemEditBeginGesture:function(){},_waDojoxAddIssue:function(a,e,b){var c=this.renderData.dateFuncObj;if(this._calendar!="gregorian"&&b<0){a=a.toGregorian();
a=y.add(a,e,b);return new this.renderData.dateClassObj(a)}return c.add(a,e,b)},_computeItemEditingTimes:function(a,c,b,d){var a=this.renderData.dateFuncObj,b=this._edProps,f=a.difference(b.editingTimeFrom[0],d[0],"millisecond");d[0]=this._waDojoxAddIssue(b.editingItemRefTime[0],"millisecond",f);if(c=="resizeBoth"){f=a.difference(b.editingTimeFrom[1],d[1],"millisecond");d[1]=this._waDojoxAddIssue(b.editingItemRefTime[1],"millisecond",f)}return d},_moveOrResizeItemGesture:function(a,c,b){if(this._isEditing&&
a[0]!=null){var d=this._edProps,f=d.editedItem,g=this.renderData.dateFuncObj,h=d.editKind,j=[a[0]];h=="resizeBoth"&&(j[1]=a[1]);var j=this._computeItemEditingTimes(f,d.editKind,d.rendererKind,j,c),k=j[0],o=false,a=n.clone(f.startTime),q=n.clone(f.endTime),r=d.eventSource=="keyboard"?false:this.allowStartEndSwap;if(h=="move"){if(g.compare(f.startTime,k)!=0){o=g.difference(f.startTime,f.endTime,"millisecond");f.startTime=this.newDate(k);f.endTime=g.add(f.startTime,"millisecond",o);o=true}}else if(h==
"resizeStart"){if(g.compare(f.startTime,k)!=0){if(g.compare(f.endTime,k)!=-1)f.startTime=this.newDate(k);else if(r){f.startTime=this.newDate(f.endTime);f.endTime=this.newDate(k);d.editKind=h="resizeEnd";if(c=="touch"){d.resizeEndTouchIndex=d.resizeStartTouchIndex;d.resizeStartTouchIndex=-1}}else{f.startTime=this.newDate(f.endTime);f.startTime.setHours(k.getHours());f.startTime.setMinutes(k.getMinutes());f.startTime.setSeconds(k.getSeconds())}o=true}}else if(h=="resizeEnd"){if(g.compare(f.endTime,
k)!=0){if(g.compare(f.startTime,k)!=1)f.endTime=this.newDate(k);else if(r){f.endTime=this.newDate(f.startTime);f.startTime=this.newDate(k);d.editKind=h="resizeStart";if(c=="touch"){d.resizeStartTouchIndex=d.resizeEndTouchIndex;d.resizeEndTouchIndex=-1}}else{f.endTime=this.newDate(f.startTime);f.endTime.setHours(k.getHours());f.endTime.setMinutes(k.getMinutes());f.endTime.setSeconds(k.getSeconds())}o=true}}else if(h=="resizeBoth"){o=true;k=this.newDate(k);j=this.newDate(j[1]);if(g.compare(k,j)!=-1)if(r){r=
k;k=j;j=r}else o=false;if(o){f.startTime=k;f.endTime=j}}else return false;if(!o)return false;c=n.mixin(this._createItemEditEvent(),{item:f,startTime:f.startTime,endTime:f.endTime,editKind:h,rendererKind:d.rendererKind,triggerEvent:b,eventSource:c});h=="move"?this._onItemEditMoveGesture(c):this._onItemEditResizeGesture(c);if(g.compare(f.startTime,f.endTime)==1){h=f.startTime;f.startTime=f.startTime;f.endTime=h}o=g.compare(a,f.startTime)!=0||g.compare(q,f.endTime)!=0;if(!o)return false;this._layoutRenderers(this.renderData);
if(d.liveLayout&&d.secItem!=null){d.secItem.startTime=f.startTime;d.secItem.endTime=f.endTime;this._secondarySheet._layoutRenderers(this._secondarySheet.renderData)}else if(d.ownerItem!=null&&this.owner.liveLayout){d.ownerItem.startTime=f.startTime;d.ownerItem.endTime=f.endTime;this.owner._layoutRenderers(this.owner.renderData)}return true}},_findRenderItem:function(a,c){for(var c=c||this.renderData.items,b=0;b<c.length;b++)if(c[b].id==a)return c[b];return null},_onItemEditMoveGesture:function(a){this._dispatchCalendarEvt(a,
"onItemEditMoveGesture");if(!a.isDefaultPrevented()){var c=a.source._edProps,b=this.renderData,d=b.dateFuncObj;if(c.rendererKind=="label"||this.roundToDay&&!a.item.allDay){b=this.floorToDay(a.item.startTime,false,b);b.setHours(c._itemEditBeginSave.getHours());b.setMinutes(c._itemEditBeginSave.getMinutes());d=d.add(b,"millisecond",c._initDuration)}else if(a.item.allDay){b=this.floorToDay(a.item.startTime,true);d=d.add(b,"day",c._initDuration)}else{b=this.floorDate(a.item.startTime,this.snapUnit,this.snapSteps);
d=d.add(b,"millisecond",c._initDuration)}a.item.startTime=b;a.item.endTime=d;if(!c.inViewOnce)c.inViewOnce=this._isItemInView(a.item);c.inViewOnce&&this.stayInView&&this._ensureItemInView(a.item)}},_DAY_IN_MILLISECONDS:864E5,onItemEditMoveGesture:function(){},_onItemEditResizeGesture:function(a){this._dispatchCalendarEvt(a,"onItemEditResizeGesture");if(!a.isDefaultPrevented()){var c=a.source._edProps,b=this.renderData,d=b.dateFuncObj,f=a.item.startTime,g=a.item.endTime;if(a.editKind=="resizeStart")if(a.item.allDay)f=
this.floorToDay(a.item.startTime,false,this.renderData);else if(this.roundToDay){f=this.floorToDay(a.item.startTime,false,b);f.setHours(c._itemEditBeginSave.getHours());f.setMinutes(c._itemEditBeginSave.getMinutes())}else f=this.floorDate(a.item.startTime,this.snapUnit,this.snapSteps);else if(a.editKind=="resizeEnd")if(a.item.allDay){if(!this.isStartOfDay(a.item.endTime)){g=this.floorToDay(a.item.endTime,false,this.renderData);g=d.add(g,"day",1)}}else if(this.roundToDay){g=this.floorToDay(a.item.endTime,
false,b);g.setHours(c._itemEditEndSave.getHours());g.setMinutes(c._itemEditEndSave.getMinutes())}else{g=this.floorDate(a.item.endTime,this.snapUnit,this.snapSteps);a.eventSource=="mouse"&&(g=d.add(g,this.snapUnit,this.snapSteps))}else{f=this.floorDate(a.item.startTime,this.snapUnit,this.snapSteps);g=this.floorDate(a.item.endTime,this.snapUnit,this.snapSteps);g=d.add(g,this.snapUnit,this.snapSteps)}a.item.startTime=f;a.item.endTime=g;b=a.item.allDay||c._initDuration>=this._DAY_IN_MILLISECONDS&&!this.allowResizeLessThan24H;
this.ensureMinimalDuration(this.renderData,a.item,b?"day":this.minDurationUnit,b?1:this.minDurationSteps,a.editKind);if(!c.inViewOnce)c.inViewOnce=this._isItemInView(a.item);c.inViewOnce&&this.stayInView&&this._ensureItemInView(a.item)}},onItemEditResizeGesture:function(){},_endItemEditingGesture:function(a,c){if(this._isEditing){this._editingGesture=false;var b=this._edProps,d=b.editedItem;b.itemBeginDispatched=false;this._onItemEditEndGesture(n.mixin(this._createItemEditEvent(),{item:d,startTime:d.startTime,
endTime:d.endTime,editKind:b.editKind,rendererKind:b.rendererKind,triggerEvent:c,eventSource:a}))}},_onItemEditEndGesture:function(a){var c=this._edProps;delete c._itemEditBeginSave;delete c._itemEditEndSave;this._dispatchCalendarEvt(a,"onItemEditEndGesture");if(!a.isDefaultPrevented()&&c.editLayer){if(f("ie"))c.editLayer.style.cursor="default";setTimeout(n.hitch(this,function(){if(this.domNode){this.domNode.focus();c.editLayer.parentNode.removeChild(c.editLayer);c.editLayer=null}}),10)}},onItemEditEndGesture:function(){},
ensureMinimalDuration:function(a,c,b,d,f){a=a.dateFuncObj;if(f=="resizeStart"){b=a.add(c.endTime,b,-d);if(a.compare(c.startTime,b)==1)c.startTime=b}else{b=a.add(c.startTime,b,d);if(a.compare(c.endTime,b)==-1)c.endTime=b}},doubleTapDelay:300,snapUnit:"minute",snapSteps:15,minDurationUnit:"hour",minDurationSteps:1,liveLayout:false,stayInView:true,allowStartEndSwap:true,allowResizeLessThan24H:false})})}}});require(["dojo/i18n"],function(r){r._preloadLocalizations("dojo/nls/calendar-layer",[])});
define("dojo/calendar-layer",[],1);